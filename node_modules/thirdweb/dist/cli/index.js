#!/usr/bin/env node
"use strict";var qf=Object.create;var So=Object.defineProperty;var Uf=Object.getOwnPropertyDescriptor;var Wf=Object.getOwnPropertyNames;var Gf=Object.getPrototypeOf,Jf=Object.prototype.hasOwnProperty;var Vf=(e,t,r)=>t in e?So(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var S=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Hf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Wf(t))!Jf.call(e,o)&&o!==r&&So(e,o,{get:()=>t[o],enumerable:!(n=Uf(t,o))||n.enumerable});return e};var x=(e,t,r)=>(r=e!=null?qf(Gf(e)):{},Hf(t||!e||!e.__esModule?So(r,"default",{value:e,enumerable:!0}):r,e));var fa=(e,t,r)=>(Vf(e,typeof t!="symbol"?t+"":t,r),r),pa=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var m=(e,t,r)=>(pa(e,t,"read from private field"),r?r.call(e):t.get(e)),M=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},T=(e,t,r,n)=>(pa(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Lt=(e,t,r,n)=>({set _(o){T(e,t,o,r)},get _(){return m(e,t,n)}});var Ca=S((Fm,Do)=>{"use strict";var ka=(e,t)=>{for(let r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};Do.exports=ka;Do.exports.default=ka});var Pa=S(($m,wn)=>{"use strict";var ap=Ca(),bn=new WeakMap,Ra=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0,o=e.displayName||e.name||"<anonymous>",i=function(...a){if(bn.set(i,++n),n===1)r=e.apply(this,a),e=null;else if(t.throw===!0)throw new Error(`Function \`${o}\` can only be called once`);return r};return ap(i,e),bn.set(i,n),i};wn.exports=Ra;wn.exports.default=Ra;wn.exports.callCount=e=>{if(!bn.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return bn.get(e)}});var Da=S((Om,_n)=>{_n.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&_n.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&_n.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Ia=S((Im,yt)=>{var O=global.process,Ue=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};Ue(O)?(ja=require("assert"),ht=Da(),Fa=/^win/i.test(O.platform),Ut=require("events"),typeof Ut!="function"&&(Ut=Ut.EventEmitter),O.__signal_exit_emitter__?U=O.__signal_exit_emitter__:(U=O.__signal_exit_emitter__=new Ut,U.count=0,U.emitted={}),U.infinite||(U.setMaxListeners(1/0),U.infinite=!0),yt.exports=function(e,t){if(!Ue(global.process))return function(){};ja.equal(typeof e,"function","a callback must be provided for exit handler"),gt===!1&&jo();var r="exit";t&&t.alwaysLast&&(r="afterexit");var n=function(){U.removeListener(r,e),U.listeners("exit").length===0&&U.listeners("afterexit").length===0&&xn()};return U.on(r,e),n},xn=function(){!gt||!Ue(global.process)||(gt=!1,ht.forEach(function(t){try{O.removeListener(t,vn[t])}catch{}}),O.emit=Sn,O.reallyExit=Fo,U.count-=1)},yt.exports.unload=xn,We=function(t,r,n){U.emitted[t]||(U.emitted[t]=!0,U.emit(t,r,n))},vn={},ht.forEach(function(e){vn[e]=function(){if(Ue(global.process)){var r=O.listeners(e);r.length===U.count&&(xn(),We("exit",null,e),We("afterexit",null,e),Fa&&e==="SIGHUP"&&(e="SIGINT"),O.kill(O.pid,e))}}}),yt.exports.signals=function(){return ht},gt=!1,jo=function(){gt||!Ue(global.process)||(gt=!0,U.count+=1,ht=ht.filter(function(t){try{return O.on(t,vn[t]),!0}catch{return!1}}),O.emit=Oa,O.reallyExit=$a)},yt.exports.load=jo,Fo=O.reallyExit,$a=function(t){Ue(global.process)&&(O.exitCode=t||0,We("exit",O.exitCode,null),We("afterexit",O.exitCode,null),Fo.call(O,O.exitCode))},Sn=O.emit,Oa=function(t,r){if(t==="exit"&&Ue(global.process)){r!==void 0&&(O.exitCode=r);var n=Sn.apply(this,arguments);return We("exit",O.exitCode,null),We("afterexit",O.exitCode,null),n}else return Sn.apply(this,arguments)}):yt.exports=function(){return function(){}};var ja,ht,Fa,Ut,U,xn,We,vn,gt,jo,Fo,$a,Sn,Oa});var Ba=S((Lm,cp)=>{cp.exports={dots:{interval:80,frames:["\u280B","\u2819","\u2839","\u2838","\u283C","\u2834","\u2826","\u2827","\u2807","\u280F"]},dots2:{interval:80,frames:["\u28FE","\u28FD","\u28FB","\u28BF","\u287F","\u28DF","\u28EF","\u28F7"]},dots3:{interval:80,frames:["\u280B","\u2819","\u281A","\u281E","\u2816","\u2826","\u2834","\u2832","\u2833","\u2813"]},dots4:{interval:80,frames:["\u2804","\u2806","\u2807","\u280B","\u2819","\u2838","\u2830","\u2820","\u2830","\u2838","\u2819","\u280B","\u2807","\u2806"]},dots5:{interval:80,frames:["\u280B","\u2819","\u281A","\u2812","\u2802","\u2802","\u2812","\u2832","\u2834","\u2826","\u2816","\u2812","\u2810","\u2810","\u2812","\u2813","\u280B"]},dots6:{interval:80,frames:["\u2801","\u2809","\u2819","\u281A","\u2812","\u2802","\u2802","\u2812","\u2832","\u2834","\u2824","\u2804","\u2804","\u2824","\u2834","\u2832","\u2812","\u2802","\u2802","\u2812","\u281A","\u2819","\u2809","\u2801"]},dots7:{interval:80,frames:["\u2808","\u2809","\u280B","\u2813","\u2812","\u2810","\u2810","\u2812","\u2816","\u2826","\u2824","\u2820","\u2820","\u2824","\u2826","\u2816","\u2812","\u2810","\u2810","\u2812","\u2813","\u280B","\u2809","\u2808"]},dots8:{interval:80,frames:["\u2801","\u2801","\u2809","\u2819","\u281A","\u2812","\u2802","\u2802","\u2812","\u2832","\u2834","\u2824","\u2804","\u2804","\u2824","\u2820","\u2820","\u2824","\u2826","\u2816","\u2812","\u2810","\u2810","\u2812","\u2813","\u280B","\u2809","\u2808","\u2808"]},dots9:{interval:80,frames:["\u28B9","\u28BA","\u28BC","\u28F8","\u28C7","\u2867","\u2857","\u284F"]},dots10:{interval:80,frames:["\u2884","\u2882","\u2881","\u2841","\u2848","\u2850","\u2860"]},dots11:{interval:100,frames:["\u2801","\u2802","\u2804","\u2840","\u2880","\u2820","\u2810","\u2808"]},dots12:{interval:80,frames:["\u2880\u2800","\u2840\u2800","\u2804\u2800","\u2882\u2800","\u2842\u2800","\u2805\u2800","\u2883\u2800","\u2843\u2800","\u280D\u2800","\u288B\u2800","\u284B\u2800","\u280D\u2801","\u288B\u2801","\u284B\u2801","\u280D\u2809","\u280B\u2809","\u280B\u2809","\u2809\u2819","\u2809\u2819","\u2809\u2829","\u2808\u2899","\u2808\u2859","\u2888\u2829","\u2840\u2899","\u2804\u2859","\u2882\u2829","\u2842\u2898","\u2805\u2858","\u2883\u2828","\u2843\u2890","\u280D\u2850","\u288B\u2820","\u284B\u2880","\u280D\u2841","\u288B\u2801","\u284B\u2801","\u280D\u2809","\u280B\u2809","\u280B\u2809","\u2809\u2819","\u2809\u2819","\u2809\u2829","\u2808\u2899","\u2808\u2859","\u2808\u2829","\u2800\u2899","\u2800\u2859","\u2800\u2829","\u2800\u2898","\u2800\u2858","\u2800\u2828","\u2800\u2890","\u2800\u2850","\u2800\u2820","\u2800\u2880","\u2800\u2840"]},dots13:{interval:80,frames:["\u28FC","\u28F9","\u28BB","\u283F","\u285F","\u28CF","\u28E7","\u28F6"]},dots8Bit:{interval:80,frames:["\u2800","\u2801","\u2802","\u2803","\u2804","\u2805","\u2806","\u2807","\u2840","\u2841","\u2842","\u2843","\u2844","\u2845","\u2846","\u2847","\u2808","\u2809","\u280A","\u280B","\u280C","\u280D","\u280E","\u280F","\u2848","\u2849","\u284A","\u284B","\u284C","\u284D","\u284E","\u284F","\u2810","\u2811","\u2812","\u2813","\u2814","\u2815","\u2816","\u2817","\u2850","\u2851","\u2852","\u2853","\u2854","\u2855","\u2856","\u2857","\u2818","\u2819","\u281A","\u281B","\u281C","\u281D","\u281E","\u281F","\u2858","\u2859","\u285A","\u285B","\u285C","\u285D","\u285E","\u285F","\u2820","\u2821","\u2822","\u2823","\u2824","\u2825","\u2826","\u2827","\u2860","\u2861","\u2862","\u2863","\u2864","\u2865","\u2866","\u2867","\u2828","\u2829","\u282A","\u282B","\u282C","\u282D","\u282E","\u282F","\u2868","\u2869","\u286A","\u286B","\u286C","\u286D","\u286E","\u286F","\u2830","\u2831","\u2832","\u2833","\u2834","\u2835","\u2836","\u2837","\u2870","\u2871","\u2872","\u2873","\u2874","\u2875","\u2876","\u2877","\u2838","\u2839","\u283A","\u283B","\u283C","\u283D","\u283E","\u283F","\u2878","\u2879","\u287A","\u287B","\u287C","\u287D","\u287E","\u287F","\u2880","\u2881","\u2882","\u2883","\u2884","\u2885","\u2886","\u2887","\u28C0","\u28C1","\u28C2","\u28C3","\u28C4","\u28C5","\u28C6","\u28C7","\u2888","\u2889","\u288A","\u288B","\u288C","\u288D","\u288E","\u288F","\u28C8","\u28C9","\u28CA","\u28CB","\u28CC","\u28CD","\u28CE","\u28CF","\u2890","\u2891","\u2892","\u2893","\u2894","\u2895","\u2896","\u2897","\u28D0","\u28D1","\u28D2","\u28D3","\u28D4","\u28D5","\u28D6","\u28D7","\u2898","\u2899","\u289A","\u289B","\u289C","\u289D","\u289E","\u289F","\u28D8","\u28D9","\u28DA","\u28DB","\u28DC","\u28DD","\u28DE","\u28DF","\u28A0","\u28A1","\u28A2","\u28A3","\u28A4","\u28A5","\u28A6","\u28A7","\u28E0","\u28E1","\u28E2","\u28E3","\u28E4","\u28E5","\u28E6","\u28E7","\u28A8","\u28A9","\u28AA","\u28AB","\u28AC","\u28AD","\u28AE","\u28AF","\u28E8","\u28E9","\u28EA","\u28EB","\u28EC","\u28ED","\u28EE","\u28EF","\u28B0","\u28B1","\u28B2","\u28B3","\u28B4","\u28B5","\u28B6","\u28B7","\u28F0","\u28F1","\u28F2","\u28F3","\u28F4","\u28F5","\u28F6","\u28F7","\u28B8","\u28B9","\u28BA","\u28BB","\u28BC","\u28BD","\u28BE","\u28BF","\u28F8","\u28F9","\u28FA","\u28FB","\u28FC","\u28FD","\u28FE","\u28FF"]},sand:{interval:80,frames:["\u2801","\u2802","\u2804","\u2840","\u2848","\u2850","\u2860","\u28C0","\u28C1","\u28C2","\u28C4","\u28CC","\u28D4","\u28E4","\u28E5","\u28E6","\u28EE","\u28F6","\u28F7","\u28FF","\u287F","\u283F","\u289F","\u281F","\u285B","\u281B","\u282B","\u288B","\u280B","\u280D","\u2849","\u2809","\u2811","\u2821","\u2881"]},line:{interval:130,frames:["-","\\","|","/"]},line2:{interval:100,frames:["\u2802","-","\u2013","\u2014","\u2013","-"]},pipe:{interval:100,frames:["\u2524","\u2518","\u2534","\u2514","\u251C","\u250C","\u252C","\u2510"]},simpleDots:{interval:400,frames:[".  ",".. ","...","   "]},simpleDotsScrolling:{interval:200,frames:[".  ",".. ","..."," ..","  .","   "]},star:{interval:70,frames:["\u2736","\u2738","\u2739","\u273A","\u2739","\u2737"]},star2:{interval:80,frames:["+","x","*"]},flip:{interval:70,frames:["_","_","_","-","`","`","'","\xB4","-","_","_","_"]},hamburger:{interval:100,frames:["\u2631","\u2632","\u2634"]},growVertical:{interval:120,frames:["\u2581","\u2583","\u2584","\u2585","\u2586","\u2587","\u2586","\u2585","\u2584","\u2583"]},growHorizontal:{interval:120,frames:["\u258F","\u258E","\u258D","\u258C","\u258B","\u258A","\u2589","\u258A","\u258B","\u258C","\u258D","\u258E"]},balloon:{interval:140,frames:[" ",".","o","O","@","*"," "]},balloon2:{interval:120,frames:[".","o","O","\xB0","O","o","."]},noise:{interval:100,frames:["\u2593","\u2592","\u2591"]},bounce:{interval:120,frames:["\u2801","\u2802","\u2804","\u2802"]},boxBounce:{interval:120,frames:["\u2596","\u2598","\u259D","\u2597"]},boxBounce2:{interval:100,frames:["\u258C","\u2580","\u2590","\u2584"]},triangle:{interval:50,frames:["\u25E2","\u25E3","\u25E4","\u25E5"]},arc:{interval:100,frames:["\u25DC","\u25E0","\u25DD","\u25DE","\u25E1","\u25DF"]},circle:{interval:120,frames:["\u25E1","\u2299","\u25E0"]},squareCorners:{interval:180,frames:["\u25F0","\u25F3","\u25F2","\u25F1"]},circleQuarters:{interval:120,frames:["\u25F4","\u25F7","\u25F6","\u25F5"]},circleHalves:{interval:50,frames:["\u25D0","\u25D3","\u25D1","\u25D2"]},squish:{interval:100,frames:["\u256B","\u256A"]},toggle:{interval:250,frames:["\u22B6","\u22B7"]},toggle2:{interval:80,frames:["\u25AB","\u25AA"]},toggle3:{interval:120,frames:["\u25A1","\u25A0"]},toggle4:{interval:100,frames:["\u25A0","\u25A1","\u25AA","\u25AB"]},toggle5:{interval:100,frames:["\u25AE","\u25AF"]},toggle6:{interval:300,frames:["\u101D","\u1040"]},toggle7:{interval:80,frames:["\u29BE","\u29BF"]},toggle8:{interval:100,frames:["\u25CD","\u25CC"]},toggle9:{interval:100,frames:["\u25C9","\u25CE"]},toggle10:{interval:100,frames:["\u3282","\u3280","\u3281"]},toggle11:{interval:50,frames:["\u29C7","\u29C6"]},toggle12:{interval:120,frames:["\u2617","\u2616"]},toggle13:{interval:80,frames:["=","*","-"]},arrow:{interval:100,frames:["\u2190","\u2196","\u2191","\u2197","\u2192","\u2198","\u2193","\u2199"]},arrow2:{interval:80,frames:["\u2B06\uFE0F ","\u2197\uFE0F ","\u27A1\uFE0F ","\u2198\uFE0F ","\u2B07\uFE0F ","\u2199\uFE0F ","\u2B05\uFE0F ","\u2196\uFE0F "]},arrow3:{interval:120,frames:["\u25B9\u25B9\u25B9\u25B9\u25B9","\u25B8\u25B9\u25B9\u25B9\u25B9","\u25B9\u25B8\u25B9\u25B9\u25B9","\u25B9\u25B9\u25B8\u25B9\u25B9","\u25B9\u25B9\u25B9\u25B8\u25B9","\u25B9\u25B9\u25B9\u25B9\u25B8"]},bouncingBar:{interval:80,frames:["[    ]","[=   ]","[==  ]","[=== ]","[ ===]","[  ==]","[   =]","[    ]","[   =]","[  ==]","[ ===]","[====]","[=== ]","[==  ]","[=   ]"]},bouncingBall:{interval:80,frames:["( \u25CF    )","(  \u25CF   )","(   \u25CF  )","(    \u25CF )","(     \u25CF)","(    \u25CF )","(   \u25CF  )","(  \u25CF   )","( \u25CF    )","(\u25CF     )"]},smiley:{interval:200,frames:["\u{1F604} ","\u{1F61D} "]},monkey:{interval:300,frames:["\u{1F648} ","\u{1F648} ","\u{1F649} ","\u{1F64A} "]},hearts:{interval:100,frames:["\u{1F49B} ","\u{1F499} ","\u{1F49C} ","\u{1F49A} ","\u2764\uFE0F "]},clock:{interval:100,frames:["\u{1F55B} ","\u{1F550} ","\u{1F551} ","\u{1F552} ","\u{1F553} ","\u{1F554} ","\u{1F555} ","\u{1F556} ","\u{1F557} ","\u{1F558} ","\u{1F559} ","\u{1F55A} "]},earth:{interval:180,frames:["\u{1F30D} ","\u{1F30E} ","\u{1F30F} "]},material:{interval:17,frames:["\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588","\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581"]},moon:{interval:80,frames:["\u{1F311} ","\u{1F312} ","\u{1F313} ","\u{1F314} ","\u{1F315} ","\u{1F316} ","\u{1F317} ","\u{1F318} "]},runner:{interval:140,frames:["\u{1F6B6} ","\u{1F3C3} "]},pong:{interval:80,frames:["\u2590\u2802       \u258C","\u2590\u2808       \u258C","\u2590 \u2802      \u258C","\u2590 \u2820      \u258C","\u2590  \u2840     \u258C","\u2590  \u2820     \u258C","\u2590   \u2802    \u258C","\u2590   \u2808    \u258C","\u2590    \u2802   \u258C","\u2590    \u2820   \u258C","\u2590     \u2840  \u258C","\u2590     \u2820  \u258C","\u2590      \u2802 \u258C","\u2590      \u2808 \u258C","\u2590       \u2802\u258C","\u2590       \u2820\u258C","\u2590       \u2840\u258C","\u2590      \u2820 \u258C","\u2590      \u2802 \u258C","\u2590     \u2808  \u258C","\u2590     \u2802  \u258C","\u2590    \u2820   \u258C","\u2590    \u2840   \u258C","\u2590   \u2820    \u258C","\u2590   \u2802    \u258C","\u2590  \u2808     \u258C","\u2590  \u2802     \u258C","\u2590 \u2820      \u258C","\u2590 \u2840      \u258C","\u2590\u2820       \u258C"]},shark:{interval:120,frames:["\u2590|\\____________\u258C","\u2590_|\\___________\u258C","\u2590__|\\__________\u258C","\u2590___|\\_________\u258C","\u2590____|\\________\u258C","\u2590_____|\\_______\u258C","\u2590______|\\______\u258C","\u2590_______|\\_____\u258C","\u2590________|\\____\u258C","\u2590_________|\\___\u258C","\u2590__________|\\__\u258C","\u2590___________|\\_\u258C","\u2590____________|\\\u258C","\u2590____________/|\u258C","\u2590___________/|_\u258C","\u2590__________/|__\u258C","\u2590_________/|___\u258C","\u2590________/|____\u258C","\u2590_______/|_____\u258C","\u2590______/|______\u258C","\u2590_____/|_______\u258C","\u2590____/|________\u258C","\u2590___/|_________\u258C","\u2590__/|__________\u258C","\u2590_/|___________\u258C","\u2590/|____________\u258C"]},dqpb:{interval:100,frames:["d","q","p","b"]},weather:{interval:100,frames:["\u2600\uFE0F ","\u2600\uFE0F ","\u2600\uFE0F ","\u{1F324} ","\u26C5\uFE0F ","\u{1F325} ","\u2601\uFE0F ","\u{1F327} ","\u{1F328} ","\u{1F327} ","\u{1F328} ","\u{1F327} ","\u{1F328} ","\u26C8 ","\u{1F328} ","\u{1F327} ","\u{1F328} ","\u2601\uFE0F ","\u{1F325} ","\u26C5\uFE0F ","\u{1F324} ","\u2600\uFE0F ","\u2600\uFE0F "]},christmas:{interval:400,frames:["\u{1F332}","\u{1F384}"]},grenade:{interval:80,frames:["\u060C  ","\u2032  "," \xB4 "," \u203E ","  \u2E0C","  \u2E0A","  |","  \u204E","  \u2055"," \u0DF4 ","  \u2053","   ","   ","   "]},point:{interval:125,frames:["\u2219\u2219\u2219","\u25CF\u2219\u2219","\u2219\u25CF\u2219","\u2219\u2219\u25CF","\u2219\u2219\u2219"]},layer:{interval:150,frames:["-","=","\u2261"]},betaWave:{interval:80,frames:["\u03C1\u03B2\u03B2\u03B2\u03B2\u03B2\u03B2","\u03B2\u03C1\u03B2\u03B2\u03B2\u03B2\u03B2","\u03B2\u03B2\u03C1\u03B2\u03B2\u03B2\u03B2","\u03B2\u03B2\u03B2\u03C1\u03B2\u03B2\u03B2","\u03B2\u03B2\u03B2\u03B2\u03C1\u03B2\u03B2","\u03B2\u03B2\u03B2\u03B2\u03B2\u03C1\u03B2","\u03B2\u03B2\u03B2\u03B2\u03B2\u03B2\u03C1"]},fingerDance:{interval:160,frames:["\u{1F918} ","\u{1F91F} ","\u{1F596} ","\u270B ","\u{1F91A} ","\u{1F446} "]},fistBump:{interval:80,frames:["\u{1F91C}\u3000\u3000\u3000\u3000\u{1F91B} ","\u{1F91C}\u3000\u3000\u3000\u3000\u{1F91B} ","\u{1F91C}\u3000\u3000\u3000\u3000\u{1F91B} ","\u3000\u{1F91C}\u3000\u3000\u{1F91B}\u3000 ","\u3000\u3000\u{1F91C}\u{1F91B}\u3000\u3000 ","\u3000\u{1F91C}\u2728\u{1F91B}\u3000\u3000 ","\u{1F91C}\u3000\u2728\u3000\u{1F91B}\u3000 "]},soccerHeader:{interval:80,frames:[" \u{1F9D1}\u26BD\uFE0F       \u{1F9D1} ","\u{1F9D1}  \u26BD\uFE0F      \u{1F9D1} ","\u{1F9D1}   \u26BD\uFE0F     \u{1F9D1} ","\u{1F9D1}    \u26BD\uFE0F    \u{1F9D1} ","\u{1F9D1}     \u26BD\uFE0F   \u{1F9D1} ","\u{1F9D1}      \u26BD\uFE0F  \u{1F9D1} ","\u{1F9D1}       \u26BD\uFE0F\u{1F9D1}  ","\u{1F9D1}      \u26BD\uFE0F  \u{1F9D1} ","\u{1F9D1}     \u26BD\uFE0F   \u{1F9D1} ","\u{1F9D1}    \u26BD\uFE0F    \u{1F9D1} ","\u{1F9D1}   \u26BD\uFE0F     \u{1F9D1} ","\u{1F9D1}  \u26BD\uFE0F      \u{1F9D1} "]},mindblown:{interval:160,frames:["\u{1F610} ","\u{1F610} ","\u{1F62E} ","\u{1F62E} ","\u{1F626} ","\u{1F626} ","\u{1F627} ","\u{1F627} ","\u{1F92F} ","\u{1F4A5} ","\u2728 ","\u3000 ","\u3000 ","\u3000 "]},speaker:{interval:160,frames:["\u{1F508} ","\u{1F509} ","\u{1F50A} ","\u{1F509} "]},orangePulse:{interval:100,frames:["\u{1F538} ","\u{1F536} ","\u{1F7E0} ","\u{1F7E0} ","\u{1F536} "]},bluePulse:{interval:100,frames:["\u{1F539} ","\u{1F537} ","\u{1F535} ","\u{1F535} ","\u{1F537} "]},orangeBluePulse:{interval:100,frames:["\u{1F538} ","\u{1F536} ","\u{1F7E0} ","\u{1F7E0} ","\u{1F536} ","\u{1F539} ","\u{1F537} ","\u{1F535} ","\u{1F535} ","\u{1F537} "]},timeTravel:{interval:100,frames:["\u{1F55B} ","\u{1F55A} ","\u{1F559} ","\u{1F558} ","\u{1F557} ","\u{1F556} ","\u{1F555} ","\u{1F554} ","\u{1F553} ","\u{1F552} ","\u{1F551} ","\u{1F550} "]},aesthetic:{interval:80,frames:["\u25B0\u25B1\u25B1\u25B1\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B1\u25B1\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B1\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B0\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B0\u25B0\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B0\u25B0\u25B0","\u25B0\u25B1\u25B1\u25B1\u25B1\u25B1\u25B1"]}}});var Wa=S((Bm,Ua)=>{"use strict";var Tn=Object.assign({},Ba()),qa=Object.keys(Tn);Object.defineProperty(Tn,"random",{get(){let e=Math.floor(Math.random()*qa.length),t=qa[e];return Tn[t]}});Ua.exports=Tn});var Ga=S((Ym,kn)=>{var up=function(){"use strict";function e(a,s,l,c){var f;typeof s=="object"&&(l=s.depth,c=s.prototype,f=s.filter,s=s.circular);var p=[],u=[],w=typeof Buffer<"u";typeof s>"u"&&(s=!0),typeof l>"u"&&(l=1/0);function y(b,h){if(b===null)return null;if(h==0)return b;var g,v;if(typeof b!="object")return b;if(e.__isArray(b))g=[];else if(e.__isRegExp(b))g=new RegExp(b.source,i(b)),b.lastIndex&&(g.lastIndex=b.lastIndex);else if(e.__isDate(b))g=new Date(b.getTime());else{if(w&&Buffer.isBuffer(b))return Buffer.allocUnsafe?g=Buffer.allocUnsafe(b.length):g=new Buffer(b.length),b.copy(g),g;typeof c>"u"?(v=Object.getPrototypeOf(b),g=Object.create(v)):(g=Object.create(c),v=c)}if(s){var F=p.indexOf(b);if(F!=-1)return u[F];p.push(b),u.push(g)}for(var C in b){var P;v&&(P=Object.getOwnPropertyDescriptor(v,C)),!(P&&P.set==null)&&(g[C]=y(b[C],h-1))}return g}return y(a,l)}e.clonePrototype=function(s){if(s===null)return null;var l=function(){};return l.prototype=s,new l};function t(a){return Object.prototype.toString.call(a)}e.__objToStr=t;function r(a){return typeof a=="object"&&t(a)==="[object Date]"}e.__isDate=r;function n(a){return typeof a=="object"&&t(a)==="[object Array]"}e.__isArray=n;function o(a){return typeof a=="object"&&t(a)==="[object RegExp]"}e.__isRegExp=o;function i(a){var s="";return a.global&&(s+="g"),a.ignoreCase&&(s+="i"),a.multiline&&(s+="m"),s}return e.__getRegExpFlags=i,e}();typeof kn=="object"&&kn.exports&&(kn.exports=up)});var Va=S((zm,Ja)=>{var dp=Ga();Ja.exports=function(e,t){return e=e||{},Object.keys(t).forEach(function(r){typeof e[r]>"u"&&(e[r]=dp(t[r]))}),e}});var Ya=S((Xm,Ha)=>{Ha.exports=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]]});var Za=S((Km,Mo)=>{"use strict";var mp=Va(),Jt=Ya(),Xa={nul:0,control:0};Mo.exports=function(t){return Ka(t,Xa)};Mo.exports.config=function(e){return e=mp(e||{},Xa),function(r){return Ka(r,e)}};function Ka(e,t){if(typeof e!="string")return za(e,t);for(var r=0,n=0;n<e.length;n++){var o=za(e.charCodeAt(n),t);if(o<0)return-1;r+=o}return r}function za(e,t){return e===0?t.nul:e<32||e>=127&&e<160?t.control:hp(e)?0:1+(e>=4352&&(e<=4447||e==9001||e==9002||e>=11904&&e<=42191&&e!=12351||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65135||e>=65280&&e<=65376||e>=65504&&e<=65510||e>=131072&&e<=196605||e>=196608&&e<=262141))}function hp(e){var t=0,r=Jt.length-1,n;if(e<Jt[0][0]||e>Jt[r][1])return!1;for(;r>=t;)if(n=Math.floor((t+r)/2),e>Jt[n][1])t=n+1;else if(e<Jt[n][0])r=n-1;else return!0;return!1}});var Lo=S((Qm,Qa)=>{Qa.exports=require("stream")});var is=S((eh,os)=>{"use strict";function es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?es(Object(r),!0).forEach(function(n){gp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):es(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gp(e,t,r){return t=ns(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ns(n.key),n)}}function bp(e,t,r){return t&&rs(e.prototype,t),r&&rs(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ns(e){var t=wp(e,"string");return typeof t=="symbol"?t:String(t)}function wp(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _p=require("buffer"),Cn=_p.Buffer,xp=require("util"),Bo=xp.inspect,vp=Bo&&Bo.custom||"inspect";function Sp(e,t,r){Cn.prototype.copy.call(e,t,r)}os.exports=function(){function e(){yp(this,e),this.head=null,this.tail=null,this.length=0}return bp(e,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,o=""+n.data;n=n.next;)o+=r+n.data;return o}},{key:"concat",value:function(r){if(this.length===0)return Cn.alloc(0);for(var n=Cn.allocUnsafe(r>>>0),o=this.head,i=0;o;)Sp(o.data,n,i),i+=o.data.length,o=o.next;return n}},{key:"consume",value:function(r,n){var o;return r<this.head.data.length?(o=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?o=this.shift():o=n?this._getString(r):this._getBuffer(r),o}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,o=1,i=n.data;for(r-=i.length;n=n.next;){var a=n.data,s=r>a.length?a.length:r;if(s===a.length?i+=a:i+=a.slice(0,r),r-=s,r===0){s===a.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(s));break}++o}return this.length-=o,i}},{key:"_getBuffer",value:function(r){var n=Cn.allocUnsafe(r),o=this.head,i=1;for(o.data.copy(n),r-=o.data.length;o=o.next;){var a=o.data,s=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,s),r-=s,r===0){s===a.length?(++i,o.next?this.head=o.next:this.head=this.tail=null):(this.head=o,o.data=a.slice(s));break}++i}return this.length-=i,n}},{key:vp,value:function(r,n){return Bo(this,ts(ts({},n),{},{depth:0,customInspect:!1}))}}]),e}()});var Uo=S((th,ss)=>{"use strict";function Ep(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return n||o?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(qo,this,e)):process.nextTick(qo,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(i){!t&&i?r._writableState?r._writableState.errorEmitted?process.nextTick(Rn,r):(r._writableState.errorEmitted=!0,process.nextTick(as,r,i)):process.nextTick(as,r,i):t?(process.nextTick(Rn,r),t(i)):process.nextTick(Rn,r)}),this)}function as(e,t){qo(e,t),Rn(e)}function Rn(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Tp(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function qo(e,t){e.emit("error",t)}function kp(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}ss.exports={destroy:Ep,undestroy:Tp,errorOrDestroy:kp}});var Ce=S((rh,fs)=>{"use strict";var ls={};function te(e,t,r){r||(r=Error);function n(i,a,s){return typeof t=="string"?t:t(i,a,s)}class o extends r{constructor(a,s,l){super(n(a,s,l))}}o.prototype.name=r.name,o.prototype.code=e,ls[e]=o}function cs(e,t){if(Array.isArray(e)){let r=e.length;return e=e.map(n=>String(n)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:r===2?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}else return`of ${t} ${String(e)}`}function Cp(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function Rp(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function Pp(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}te("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);te("ERR_INVALID_ARG_TYPE",function(e,t,r){let n;typeof t=="string"&&Cp(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";let o;if(Rp(e," argument"))o=`The ${e} ${n} ${cs(t,"type")}`;else{let i=Pp(e,".")?"property":"argument";o=`The "${e}" ${i} ${n} ${cs(t,"type")}`}return o+=`. Received type ${typeof r}`,o},TypeError);te("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");te("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});te("ERR_STREAM_PREMATURE_CLOSE","Premature close");te("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});te("ERR_MULTIPLE_CALLBACK","Callback called multiple times");te("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");te("ERR_STREAM_WRITE_AFTER_END","write after end");te("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);te("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);te("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");fs.exports.codes=ls});var Wo=S((nh,ps)=>{"use strict";var Dp=Ce().codes.ERR_INVALID_OPT_VALUE;function jp(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function Fp(e,t,r,n){var o=jp(t,n,r);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var i=n?r:"highWaterMark";throw new Dp(i,o)}return Math.floor(o)}return e.objectMode?16:16*1024}ps.exports={getHighWaterMark:Fp}});var us=S((oh,Go)=>{typeof Object.create=="function"?Go.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Go.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var Ge=S((ih,Vo)=>{try{if(Jo=require("util"),typeof Jo.inherits!="function")throw"";Vo.exports=Jo.inherits}catch{Vo.exports=us()}var Jo});var ms=S((ah,ds)=>{ds.exports=require("util").deprecate});var zo=S((sh,_s)=>{"use strict";_s.exports=L;function gs(e){var t=this;this.next=null,this.entry=null,this.finish=function(){iu(t,e)}}var wt;L.WritableState=Ht;var $p={deprecate:ms()},ys=Lo(),Dn=require("buffer").Buffer,Op=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Ip(e){return Dn.from(e)}function Ap(e){return Dn.isBuffer(e)||e instanceof Op}var Yo=Uo(),Mp=Wo(),Np=Mp.getHighWaterMark,Re=Ce().codes,Lp=Re.ERR_INVALID_ARG_TYPE,Bp=Re.ERR_METHOD_NOT_IMPLEMENTED,qp=Re.ERR_MULTIPLE_CALLBACK,Up=Re.ERR_STREAM_CANNOT_PIPE,Wp=Re.ERR_STREAM_DESTROYED,Gp=Re.ERR_STREAM_NULL_VALUES,Jp=Re.ERR_STREAM_WRITE_AFTER_END,Vp=Re.ERR_UNKNOWN_ENCODING,_t=Yo.errorOrDestroy;Ge()(L,ys);function Hp(){}function Ht(e,t,r){wt=wt||Je(),e=e||{},typeof r!="boolean"&&(r=t instanceof wt),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=Np(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){eu(t,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new gs(this)}Ht.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(Ht.prototype,"buffer",{get:$p.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Pn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Pn=Function.prototype[Symbol.hasInstance],Object.defineProperty(L,Symbol.hasInstance,{value:function(t){return Pn.call(this,t)?!0:this!==L?!1:t&&t._writableState instanceof Ht}})):Pn=function(t){return t instanceof this};function L(e){wt=wt||Je();var t=this instanceof wt;if(!t&&!Pn.call(L,this))return new L(e);this._writableState=new Ht(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),ys.call(this)}L.prototype.pipe=function(){_t(this,new Up)};function Yp(e,t){var r=new Jp;_t(e,r),process.nextTick(t,r)}function zp(e,t,r,n){var o;return r===null?o=new Gp:typeof r!="string"&&!t.objectMode&&(o=new Lp("chunk",["string","Buffer"],r)),o?(_t(e,o),process.nextTick(n,o),!1):!0}L.prototype.write=function(e,t,r){var n=this._writableState,o=!1,i=!n.objectMode&&Ap(e);return i&&!Dn.isBuffer(e)&&(e=Ip(e)),typeof t=="function"&&(r=t,t=null),i?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=Hp),n.ending?Yp(this,r):(i||zp(this,n,e,r))&&(n.pendingcb++,o=Kp(this,n,i,e,t,r)),o};L.prototype.cork=function(){this._writableState.corked++};L.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&bs(this,e))};L.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new Vp(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Xp(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Dn.from(t,r)),t}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Kp(e,t,r,n,o,i){if(!r){var a=Xp(t,n,o);n!==a&&(r=!0,o="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Ho(e,t,!1,s,n,o,i);return l}function Ho(e,t,r,n,o,i,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new Wp("write")):r?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function Zp(e,t,r,n,o){--t.pendingcb,r?(process.nextTick(o,n),process.nextTick(Vt,e,t),e._writableState.errorEmitted=!0,_t(e,n)):(o(n),e._writableState.errorEmitted=!0,_t(e,n),Vt(e,t))}function Qp(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function eu(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(typeof o!="function")throw new qp;if(Qp(r),t)Zp(e,r,n,t,o);else{var i=ws(r)||e.destroyed;!i&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&bs(e,r),n?process.nextTick(hs,e,r,i,o):hs(e,r,i,o)}}function hs(e,t,r,n){r||tu(e,t),t.pendingcb--,n(),Vt(e,t)}function tu(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function bs(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),i=t.corkedRequestsFree;i.entry=r;for(var a=0,s=!0;r;)o[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;o.allBuffers=s,Ho(e,t,!0,t.length,o,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new gs(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,f=r.callback,p=t.objectMode?1:l.length;if(Ho(e,t,!1,p,l,c,f),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}L.prototype._write=function(e,t,r){r(new Bp("_write()"))};L.prototype._writev=null;L.prototype.end=function(e,t,r){var n=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||ou(this,n,r),this};Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ws(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function ru(e,t){e._final(function(r){t.pendingcb--,r&&_t(e,r),t.prefinished=!0,e.emit("prefinish"),Vt(e,t)})}function nu(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,process.nextTick(ru,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function Vt(e,t){var r=ws(t);if(r&&(nu(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function ou(e,t,r){t.ending=!0,Vt(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function iu(e,t,r){var n=e.entry;for(e.entry=null;n;){var o=n.callback;t.pendingcb--,o(r),n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});L.prototype.destroy=Yo.destroy;L.prototype._undestroy=Yo.undestroy;L.prototype._destroy=function(e,t){t(e)}});var Je=S((ch,vs)=>{"use strict";var au=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};vs.exports=he;var xs=Zo(),Ko=zo();Ge()(he,xs);for(Xo=au(Ko.prototype),jn=0;jn<Xo.length;jn++)Fn=Xo[jn],he.prototype[Fn]||(he.prototype[Fn]=Ko.prototype[Fn]);var Xo,Fn,jn;function he(e){if(!(this instanceof he))return new he(e);xs.call(this,e),Ko.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",su)))}Object.defineProperty(he.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(he.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(he.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function su(){this._writableState.ended||process.nextTick(cu,this)}function cu(e){e.end()}Object.defineProperty(he.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}})});var Ts=S((Qo,Es)=>{var $n=require("buffer"),ge=$n.Buffer;function Ss(e,t){for(var r in e)t[r]=e[r]}ge.from&&ge.alloc&&ge.allocUnsafe&&ge.allocUnsafeSlow?Es.exports=$n:(Ss($n,Qo),Qo.Buffer=Ve);function Ve(e,t,r){return ge(e,t,r)}Ve.prototype=Object.create(ge.prototype);Ss(ge,Ve);Ve.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return ge(e,t,r)};Ve.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=ge(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Ve.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return ge(e)};Ve.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return $n.SlowBuffer(e)}});var ri=S(Cs=>{"use strict";var ti=Ts().Buffer,ks=ti.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function lu(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function fu(e){var t=lu(e);if(typeof t!="string"&&(ti.isEncoding===ks||!ks(e)))throw new Error("Unknown encoding: "+e);return t||e}Cs.StringDecoder=Yt;function Yt(e){this.encoding=fu(e);var t;switch(this.encoding){case"utf16le":this.text=gu,this.end=yu,t=4;break;case"utf8":this.fillLast=du,t=4;break;case"base64":this.text=bu,this.end=wu,t=3;break;default:this.write=_u,this.end=xu;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=ti.allocUnsafe(t)}Yt.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};Yt.prototype.end=hu;Yt.prototype.text=mu;Yt.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function ei(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function pu(e,t,r){var n=t.length-1;if(n<r)return 0;var o=ei(t[n]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--n<r||o===-2?0:(o=ei(t[n]),o>=0?(o>0&&(e.lastNeed=o-2),o):--n<r||o===-2?0:(o=ei(t[n]),o>=0?(o>0&&(o===2?o=0:e.lastNeed=o-3),o):0))}function uu(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function du(e){var t=this.lastTotal-this.lastNeed,r=uu(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function mu(e,t){var r=pu(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function hu(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function gu(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function yu(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function bu(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function wu(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function _u(e){return e.toString(this.encoding)}function xu(e){return e&&e.length?this.write(e):""}});var On=S((fh,Ds)=>{"use strict";var Rs=Ce().codes.ERR_STREAM_PREMATURE_CLOSE;function vu(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(this,n)}}}function Su(){}function Eu(e){return e.setHeader&&typeof e.abort=="function"}function Ps(e,t,r){if(typeof t=="function")return Ps(e,null,t);t||(t={}),r=vu(r||Su);var n=t.readable||t.readable!==!1&&e.readable,o=t.writable||t.writable!==!1&&e.writable,i=function(){e.writable||s()},a=e._writableState&&e._writableState.finished,s=function(){o=!1,a=!0,n||r.call(e)},l=e._readableState&&e._readableState.endEmitted,c=function(){n=!1,l=!0,o||r.call(e)},f=function(y){r.call(e,y)},p=function(){var y;if(n&&!l)return(!e._readableState||!e._readableState.ended)&&(y=new Rs),r.call(e,y);if(o&&!a)return(!e._writableState||!e._writableState.ended)&&(y=new Rs),r.call(e,y)},u=function(){e.req.on("finish",s)};return Eu(e)?(e.on("complete",s),e.on("abort",p),e.req?u():e.on("request",u)):o&&!e._writableState&&(e.on("end",i),e.on("close",i)),e.on("end",c),e.on("finish",s),t.error!==!1&&e.on("error",f),e.on("close",p),function(){e.removeListener("complete",s),e.removeListener("abort",p),e.removeListener("request",u),e.req&&e.req.removeListener("finish",s),e.removeListener("end",i),e.removeListener("close",i),e.removeListener("finish",s),e.removeListener("end",c),e.removeListener("error",f),e.removeListener("close",p)}}Ds.exports=Ps});var Fs=S((ph,js)=>{"use strict";var In;function Pe(e,t,r){return t=Tu(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tu(e){var t=ku(e,"string");return typeof t=="symbol"?t:String(t)}function ku(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cu=On(),De=Symbol("lastResolve"),He=Symbol("lastReject"),zt=Symbol("error"),An=Symbol("ended"),Ye=Symbol("lastPromise"),ni=Symbol("handlePromise"),ze=Symbol("stream");function je(e,t){return{value:e,done:t}}function Ru(e){var t=e[De];if(t!==null){var r=e[ze].read();r!==null&&(e[Ye]=null,e[De]=null,e[He]=null,t(je(r,!1)))}}function Pu(e){process.nextTick(Ru,e)}function Du(e,t){return function(r,n){e.then(function(){if(t[An]){r(je(void 0,!0));return}t[ni](r,n)},n)}}var ju=Object.getPrototypeOf(function(){}),Fu=Object.setPrototypeOf((In={get stream(){return this[ze]},next:function(){var t=this,r=this[zt];if(r!==null)return Promise.reject(r);if(this[An])return Promise.resolve(je(void 0,!0));if(this[ze].destroyed)return new Promise(function(a,s){process.nextTick(function(){t[zt]?s(t[zt]):a(je(void 0,!0))})});var n=this[Ye],o;if(n)o=new Promise(Du(n,this));else{var i=this[ze].read();if(i!==null)return Promise.resolve(je(i,!1));o=new Promise(this[ni])}return this[Ye]=o,o}},Pe(In,Symbol.asyncIterator,function(){return this}),Pe(In,"return",function(){var t=this;return new Promise(function(r,n){t[ze].destroy(null,function(o){if(o){n(o);return}r(je(void 0,!0))})})}),In),ju),$u=function(t){var r,n=Object.create(Fu,(r={},Pe(r,ze,{value:t,writable:!0}),Pe(r,De,{value:null,writable:!0}),Pe(r,He,{value:null,writable:!0}),Pe(r,zt,{value:null,writable:!0}),Pe(r,An,{value:t._readableState.endEmitted,writable:!0}),Pe(r,ni,{value:function(i,a){var s=n[ze].read();s?(n[Ye]=null,n[De]=null,n[He]=null,i(je(s,!1))):(n[De]=i,n[He]=a)},writable:!0}),r));return n[Ye]=null,Cu(t,function(o){if(o&&o.code!=="ERR_STREAM_PREMATURE_CLOSE"){var i=n[He];i!==null&&(n[Ye]=null,n[De]=null,n[He]=null,i(o)),n[zt]=o;return}var a=n[De];a!==null&&(n[Ye]=null,n[De]=null,n[He]=null,a(je(void 0,!0))),n[An]=!0}),t.on("readable",Pu.bind(null,n)),n};js.exports=$u});var As=S((uh,Is)=>{"use strict";function $s(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(c){r(c);return}s.done?t(l):Promise.resolve(l).then(n,o)}function Ou(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(l){$s(i,n,o,a,s,"next",l)}function s(l){$s(i,n,o,a,s,"throw",l)}a(void 0)})}}function Os(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Os(Object(r),!0).forEach(function(n){Au(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Os(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Au(e,t,r){return t=Mu(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mu(e){var t=Nu(e,"string");return typeof t=="symbol"?t:String(t)}function Nu(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lu=Ce().codes.ERR_INVALID_ARG_TYPE;function Bu(e,t,r){var n;if(t&&typeof t.next=="function")n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])n=t[Symbol.iterator]();else throw new Lu("iterable",["Iterable"],t);var o=new e(Iu({objectMode:!0},r)),i=!1;o._read=function(){i||(i=!0,a())};function a(){return s.apply(this,arguments)}function s(){return s=Ou(function*(){try{var l=yield n.next(),c=l.value,f=l.done;f?o.push(null):o.push(yield c)?a():i=!1}catch(p){o.destroy(p)}}),s.apply(this,arguments)}return o}Is.exports=Bu});var Zo=S((mh,Vs)=>{"use strict";Vs.exports=k;var xt;k.ReadableState=Bs;var dh=require("events").EventEmitter,Ls=function(t,r){return t.listeners(r).length},Kt=Lo(),Mn=require("buffer").Buffer,qu=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Uu(e){return Mn.from(e)}function Wu(e){return Mn.isBuffer(e)||e instanceof qu}var oi=require("util"),E;oi&&oi.debuglog?E=oi.debuglog("stream"):E=function(){};var Gu=is(),pi=Uo(),Ju=Wo(),Vu=Ju.getHighWaterMark,Nn=Ce().codes,Hu=Nn.ERR_INVALID_ARG_TYPE,Yu=Nn.ERR_STREAM_PUSH_AFTER_EOF,zu=Nn.ERR_METHOD_NOT_IMPLEMENTED,Xu=Nn.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,vt,ii,ai;Ge()(k,Kt);var Xt=pi.errorOrDestroy,si=["error","close","destroy","pause","resume"];function Ku(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Bs(e,t,r){xt=xt||Je(),e=e||{},typeof r!="boolean"&&(r=t instanceof xt),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=Vu(this,e,"readableHighWaterMark",r),this.buffer=new Gu,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(vt||(vt=ri().StringDecoder),this.decoder=new vt(e.encoding),this.encoding=e.encoding)}function k(e){if(xt=xt||Je(),!(this instanceof k))return new k(e);var t=this instanceof xt;this._readableState=new Bs(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Kt.call(this)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});k.prototype.destroy=pi.destroy;k.prototype._undestroy=pi.undestroy;k.prototype._destroy=function(e,t){t(e)};k.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Mn.from(e,t),t=""),n=!0),qs(this,e,t,!1,n)};k.prototype.unshift=function(e){return qs(this,e,null,!0,!1)};function qs(e,t,r,n,o){E("readableAddChunk",t);var i=e._readableState;if(t===null)i.reading=!1,ed(e,i);else{var a;if(o||(a=Zu(i,t)),a)Xt(e,a);else if(i.objectMode||t&&t.length>0)if(typeof t!="string"&&!i.objectMode&&Object.getPrototypeOf(t)!==Mn.prototype&&(t=Uu(t)),n)i.endEmitted?Xt(e,new Xu):ci(e,i,t,!0);else if(i.ended)Xt(e,new Yu);else{if(i.destroyed)return!1;i.reading=!1,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||t.length!==0?ci(e,i,t,!1):fi(e,i)):ci(e,i,t,!1)}else n||(i.reading=!1,fi(e,i))}return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function ci(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Ln(e)),fi(e,t)}function Zu(e,t){var r;return!Wu(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new Hu("chunk",["string","Buffer","Uint8Array"],t)),r}k.prototype.isPaused=function(){return this._readableState.flowing===!1};k.prototype.setEncoding=function(e){vt||(vt=ri().StringDecoder);var t=new vt(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Ms=1073741824;function Qu(e){return e>=Ms?e=Ms:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Ns(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=Qu(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}k.prototype.read=function(e){E("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return E("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?li(this):Ln(this),null;if(e=Ns(e,t),e===0&&t.ended)return t.length===0&&li(this),null;var n=t.needReadable;E("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,E("length less than watermark",n)),t.ended||t.reading?(n=!1,E("reading or ended",n)):n&&(E("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Ns(r,t)));var o;return e>0?o=Gs(e,t):o=null,o===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&li(this)),o!==null&&this.emit("data",o),o};function ed(e,t){if(E("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?Ln(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,Us(e)))}}function Ln(e){var t=e._readableState;E("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(E("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(Us,e))}function Us(e){var t=e._readableState;E("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ui(e)}function fi(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(td,e,t))}function td(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(E("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}k.prototype._read=function(e){Xt(this,new zu("_read()"))};k.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,E("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,i=o?s:b;n.endEmitted?process.nextTick(i):r.once("end",i),e.on("unpipe",a);function a(h,g){E("onunpipe"),h===r&&g&&g.hasUnpiped===!1&&(g.hasUnpiped=!0,f())}function s(){E("onend"),e.end()}var l=rd(r);e.on("drain",l);var c=!1;function f(){E("cleanup"),e.removeListener("close",w),e.removeListener("finish",y),e.removeListener("drain",l),e.removeListener("error",u),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",b),r.removeListener("data",p),c=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l()}r.on("data",p);function p(h){E("ondata");var g=e.write(h);E("dest.write",g),g===!1&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Js(n.pipes,e)!==-1)&&!c&&(E("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function u(h){E("onerror",h),b(),e.removeListener("error",u),Ls(e,"error")===0&&Xt(e,h)}Ku(e,"error",u);function w(){e.removeListener("finish",y),b()}e.once("close",w);function y(){E("onfinish"),e.removeListener("close",w),b()}e.once("finish",y);function b(){E("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(E("pipe resume"),r.resume()),e};function rd(e){return function(){var r=e._readableState;E("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Ls(e,"data")&&(r.flowing=!0,ui(e))}}k.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Js(t.pipes,e);return a===-1?this:(t.pipes.splice(a,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};k.prototype.on=function(e,t){var r=Kt.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,E("on readable",n.length,n.reading),n.length?Ln(this):n.reading||process.nextTick(nd,this)),r};k.prototype.addListener=k.prototype.on;k.prototype.removeListener=function(e,t){var r=Kt.prototype.removeListener.call(this,e,t);return e==="readable"&&process.nextTick(Ws,this),r};k.prototype.removeAllListeners=function(e){var t=Kt.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(Ws,this),t};function Ws(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function nd(e){E("readable nexttick read 0"),e.read(0)}k.prototype.resume=function(){var e=this._readableState;return e.flowing||(E("resume"),e.flowing=!e.readableListening,od(this,e)),e.paused=!1,this};function od(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(id,e,t))}function id(e,t){E("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ui(e),t.flowing&&!t.reading&&e.read(0)}k.prototype.pause=function(){return E("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(E("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ui(e){var t=e._readableState;for(E("flow",t.flowing);t.flowing&&e.read()!==null;);}k.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(E("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&t.push(a)}t.push(null)}),e.on("data",function(a){if(E("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var s=t.push(a);s||(n=!0,e.pause())}});for(var o in e)this[o]===void 0&&typeof e[o]=="function"&&(this[o]=function(s){return function(){return e[s].apply(e,arguments)}}(o));for(var i=0;i<si.length;i++)e.on(si[i],this.emit.bind(this,si[i]));return this._read=function(a){E("wrapped _read",a),n&&(n=!1,e.resume())},this};typeof Symbol=="function"&&(k.prototype[Symbol.asyncIterator]=function(){return ii===void 0&&(ii=Fs()),ii(this)});Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}});k._fromList=Gs;Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Gs(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function li(e){var t=e._readableState;E("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(ad,t,e))}function ad(e,t){if(E("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(k.from=function(e,t){return ai===void 0&&(ai=As()),ai(k,e,t)});function Js(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var di=S((hh,Ys)=>{"use strict";Ys.exports=ve;var Bn=Ce().codes,sd=Bn.ERR_METHOD_NOT_IMPLEMENTED,cd=Bn.ERR_MULTIPLE_CALLBACK,ld=Bn.ERR_TRANSFORM_ALREADY_TRANSFORMING,fd=Bn.ERR_TRANSFORM_WITH_LENGTH_0,qn=Je();Ge()(ve,qn);function pd(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new cd);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function ve(e){if(!(this instanceof ve))return new ve(e);qn.call(this,e),this._transformState={afterTransform:pd.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",ud)}function ud(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){Hs(e,t,r)}):Hs(this,null,null)}ve.prototype.push=function(e,t){return this._transformState.needTransform=!1,qn.prototype.push.call(this,e,t)};ve.prototype._transform=function(e,t,r){r(new sd("_transform()"))};ve.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}};ve.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};ve.prototype._destroy=function(e,t){qn.prototype._destroy.call(this,e,function(r){t(r)})};function Hs(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new fd;if(e._transformState.transforming)throw new ld;return e.push(null)}});var Ks=S((gh,Xs)=>{"use strict";Xs.exports=Zt;var zs=di();Ge()(Zt,zs);function Zt(e){if(!(this instanceof Zt))return new Zt(e);zs.call(this,e)}Zt.prototype._transform=function(e,t,r){r(null,e)}});var rc=S((yh,tc)=>{"use strict";var mi;function dd(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var ec=Ce().codes,md=ec.ERR_MISSING_ARGS,hd=ec.ERR_STREAM_DESTROYED;function Zs(e){if(e)throw e}function gd(e){return e.setHeader&&typeof e.abort=="function"}function yd(e,t,r,n){n=dd(n);var o=!1;e.on("close",function(){o=!0}),mi===void 0&&(mi=On()),mi(e,{readable:t,writable:r},function(a){if(a)return n(a);o=!0,n()});var i=!1;return function(a){if(!o&&!i){if(i=!0,gd(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(a||new hd("pipe"))}}}function Qs(e){e()}function bd(e,t){return e.pipe(t)}function wd(e){return!e.length||typeof e[e.length-1]!="function"?Zs:e.pop()}function _d(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=wd(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new md("streams");var o,i=t.map(function(a,s){var l=s<t.length-1,c=s>0;return yd(a,l,c,function(f){o||(o=f),f&&i.forEach(Qs),!l&&(i.forEach(Qs),n(o))})});return t.reduce(bd)}tc.exports=_d});var nc=S((re,er)=>{var Qt=require("stream");process.env.READABLE_STREAM==="disable"&&Qt?(er.exports=Qt.Readable,Object.assign(er.exports,Qt),er.exports.Stream=Qt):(re=er.exports=Zo(),re.Stream=Qt||re,re.Readable=re,re.Writable=zo(),re.Duplex=Je(),re.Transform=di(),re.PassThrough=Ks(),re.finished=On(),re.pipeline=rc())});var ac=S((bh,ic)=>{"use strict";var{Buffer:fe}=require("buffer"),oc=Symbol.for("BufferList");function j(e){if(!(this instanceof j))return new j(e);j._init.call(this,e)}j._init=function(t){Object.defineProperty(this,oc,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)};j.prototype._new=function(t){return new j(t)};j.prototype._offset=function(t){if(t===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){let o=r+this._bufs[n].length;if(t<o||n===this._bufs.length-1)return[n,t-r];r=o}};j.prototype._reverseOffset=function(e){let t=e[0],r=e[1];for(let n=0;n<t;n++)r+=this._bufs[n].length;return r};j.prototype.get=function(t){if(t>this.length||t<0)return;let r=this._offset(t);return this._bufs[r[0]][r[1]]};j.prototype.slice=function(t,r){return typeof t=="number"&&t<0&&(t+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,t,r)};j.prototype.copy=function(t,r,n,o){if((typeof n!="number"||n<0)&&(n=0),(typeof o!="number"||o>this.length)&&(o=this.length),n>=this.length||o<=0)return t||fe.alloc(0);let i=!!t,a=this._offset(n),s=o-n,l=s,c=i&&r||0,f=a[1];if(n===0&&o===this.length){if(!i)return this._bufs.length===1?this._bufs[0]:fe.concat(this._bufs,this.length);for(let p=0;p<this._bufs.length;p++)this._bufs[p].copy(t,c),c+=this._bufs[p].length;return t}if(l<=this._bufs[a[0]].length-f)return i?this._bufs[a[0]].copy(t,r,f,f+l):this._bufs[a[0]].slice(f,f+l);i||(t=fe.allocUnsafe(s));for(let p=a[0];p<this._bufs.length;p++){let u=this._bufs[p].length-f;if(l>u)this._bufs[p].copy(t,c,f),c+=u;else{this._bufs[p].copy(t,c,f,f+l),c+=u;break}l-=u,f&&(f=0)}return t.length>c?t.slice(0,c):t};j.prototype.shallowSlice=function(t,r){if(t=t||0,r=typeof r!="number"?this.length:r,t<0&&(t+=this.length),r<0&&(r+=this.length),t===r)return this._new();let n=this._offset(t),o=this._offset(r),i=this._bufs.slice(n[0],o[0]+1);return o[1]===0?i.pop():i[i.length-1]=i[i.length-1].slice(0,o[1]),n[1]!==0&&(i[0]=i[0].slice(n[1])),this._new(i)};j.prototype.toString=function(t,r,n){return this.slice(r,n).toString(t)};j.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;)if(t>=this._bufs[0].length)t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}return this};j.prototype.duplicate=function(){let t=this._new();for(let r=0;r<this._bufs.length;r++)t.append(this._bufs[r]);return t};j.prototype.append=function(t){if(t==null)return this;if(t.buffer)this._appendBuffer(fe.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t))for(let r=0;r<t.length;r++)this.append(t[r]);else if(this._isBufferList(t))for(let r=0;r<t._bufs.length;r++)this.append(t._bufs[r]);else typeof t=="number"&&(t=t.toString()),this._appendBuffer(fe.from(t));return this};j.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length};j.prototype.indexOf=function(e,t,r){if(r===void 0&&typeof t=="string"&&(r=t,t=void 0),typeof e=="function"||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof e=="number"?e=fe.from([e]):typeof e=="string"?e=fe.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=fe.from(e.buffer,e.byteOffset,e.byteLength):fe.isBuffer(e)||(e=fe.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),e.length===0)return t>this.length?this.length:t;let n=this._offset(t),o=n[0],i=n[1];for(;o<this._bufs.length;o++){let a=this._bufs[o];for(;i<a.length;)if(a.length-i>=e.length){let l=a.indexOf(e,i);if(l!==-1)return this._reverseOffset([o,l]);i=a.length-e.length+1}else{let l=this._reverseOffset([o,i]);if(this._match(l,e))return l;i++}i=0}return-1};j.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0};(function(){let e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let t in e)(function(r){e[r]===null?j.prototype[r]=function(n,o){return this.slice(n,n+o)[r](0,o)}:j.prototype[r]=function(n=0){return this.slice(n,n+e[r])[r](0)}})(t)})();j.prototype._isBufferList=function(t){return t instanceof j||j.isBufferList(t)};j.isBufferList=function(t){return t!=null&&t[oc]};ic.exports=j});var sc=S((wh,Un)=>{"use strict";var hi=nc().Duplex,xd=Ge(),tr=ac();function H(e){if(!(this instanceof H))return new H(e);if(typeof e=="function"){this._callback=e;let t=function(n){this._callback&&(this._callback(n),this._callback=null)}.bind(this);this.on("pipe",function(n){n.on("error",t)}),this.on("unpipe",function(n){n.removeListener("error",t)}),e=null}tr._init.call(this,e),hi.call(this)}xd(H,hi);Object.assign(H.prototype,tr.prototype);H.prototype._new=function(t){return new H(t)};H.prototype._write=function(t,r,n){this._appendBuffer(t),typeof n=="function"&&n()};H.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)};H.prototype.end=function(t){hi.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)};H.prototype._destroy=function(t,r){this._bufs.length=0,this.length=0,r(t)};H.prototype._isBufferList=function(t){return t instanceof H||t instanceof tr||H.isBufferList(t)};H.isBufferList=tr.isBufferList;Un.exports=H;Un.exports.BufferListStream=H;Un.exports.BufferList=tr});var el=S((Zb,Dd)=>{Dd.exports={name:"thirdweb",main:"dist/cli/index.js",version:"0.10.18",repository:"https://github.com/thirdweb-dev/js/tree/main/packages/cli",author:"thirdweb eng <eng@thirdweb.com>",license:"Apache-2.0",engines:{node:">=16.0.0 <19"},devDependencies:{"@gmrchk/cli-testing-library":"^0.1.2","@thirdweb-dev/tsconfig":"workspace:*","@types/async-retry":"^1.3.0","@types/cross-spawn":"^6.0.2","@types/inquirer":"^8.2.1","@types/jest":"^29.2.1","@types/js-yaml":"^4.0.5","@types/node":"^18.0.0","@types/prompts":"^2.0.14","@types/rimraf":"^3.0.0","@types/tar":"^6.1.2","@types/update-notifier":"^6.0.1","@types/validate-npm-package-name":"^4.0.0",chalk:"^5.2.0","cross-spawn":"^7.0.3","eslint-config-thirdweb":"workspace:*",hardhat:"^2.9.3",jest:"^29.4.3",ora:"^6.1.2",prettier:"^2.7.1","ts-jest":"^29.0.3","ts-node":"^10.7.0",tsup:"^6.2.3",typescript:"^4.7.4"},dependencies:{"@iarna/toml":"^2.2.5","@thirdweb-dev/chains":"workspace:*","@thirdweb-dev/sdk":"workspace:*","@thirdweb-dev/storage":"workspace:*","async-retry":"^1.3.3",commander:"^9.1.0","detect-package-manager":"^2.0.1",enquirer:"^2.3.6",ethers:"^5.7.2",got:"11.8.5",inquirer:"^8.2.3","js-yaml":"^4.1.0",open:"^8.4.0",prompts:"^2.4.2",rimraf:"^3.0.2",solc:"0.8.17","sync-disk-cache":"^2.1.0",tar:"^6.1.11","update-notifier":"^6.0.2","validate-npm-package-name":"^4.0.0",yaml:"^2.1.1"},bin:{thirdweb:"./dist/cli/index.js"},scripts:{format:"prettier --write 'src/**/*'",lint:"eslint src/",fix:"eslint src/ --fix",clean:"rm -rf dist/",cli:"node -r ts-node/register src/cli/index.ts",build:"pnpm clean && tsup --env.NODE_ENV production --minify --format cjs --external hardhat --dts-resolve","build:watch":"pnpm run build --watch","generate-thirdweb-package":"node scripts/generate-thirdweb-package.js",e2e:"jest"},files:["src/","dist/"],tsup:{entry:["src/cli/index.ts","src/helpers/hardhat-config-extractor.ts"],splitting:!1,sourcemap:!0,clean:!0}}});var al=S((d0,il)=>{il.exports=ol;ol.sync=Id;var rl=require("fs");function Od(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var o=r[n].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return!0}return!1}function nl(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:Od(t,r)}function ol(e,t,r){rl.stat(e,function(n,o){r(n,n?!1:nl(o,e,t))})}function Id(e,t){return nl(rl.statSync(e),e,t)}});var pl=S((m0,fl)=>{fl.exports=cl;cl.sync=Ad;var sl=require("fs");function cl(e,t,r){sl.stat(e,function(n,o){r(n,n?!1:ll(o,t))})}function Ad(e,t){return ll(sl.statSync(e),t)}function ll(e,t){return e.isFile()&&Md(e,t)}function Md(e,t){var r=e.mode,n=e.uid,o=e.gid,i=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),a=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),s=parseInt("100",8),l=parseInt("010",8),c=parseInt("001",8),f=s|l,p=r&c||r&l&&o===a||r&s&&n===i||r&f&&i===0;return p}});var dl=S((g0,ul)=>{var h0=require("fs"),co;process.platform==="win32"||global.TESTING_WINDOWS?co=al():co=pl();ul.exports=Fi;Fi.sync=Nd;function Fi(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,o){Fi(e,t||{},function(i,a){i?o(i):n(a)})})}co(e,t||{},function(n,o){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,o=!1),r(n,o)})}function Nd(e,t){try{return co.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var _l=S((y0,wl)=>{var Ft=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",ml=require("path"),Ld=Ft?";":":",hl=dl(),gl=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),yl=(e,t)=>{let r=t.colon||Ld,n=e.match(/\//)||Ft&&e.match(/\\/)?[""]:[...Ft?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],o=Ft?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",i=Ft?o.split(r):[""];return Ft&&e.indexOf(".")!==-1&&i[0]!==""&&i.unshift(""),{pathEnv:n,pathExt:i,pathExtExe:o}},bl=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:o,pathExtExe:i}=yl(e,t),a=[],s=c=>new Promise((f,p)=>{if(c===n.length)return t.all&&a.length?f(a):p(gl(e));let u=n[c],w=/^".*"$/.test(u)?u.slice(1,-1):u,y=ml.join(w,e),b=!w&&/^\.[\\\/]/.test(e)?e.slice(0,2)+y:y;f(l(b,c,0))}),l=(c,f,p)=>new Promise((u,w)=>{if(p===o.length)return u(s(f+1));let y=o[p];hl(c+y,{pathExt:i},(b,h)=>{if(!b&&h)if(t.all)a.push(c+y);else return u(c+y);return u(l(c,f,p+1))})});return r?s(0).then(c=>r(null,c),r):s(0)},Bd=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:o}=yl(e,t),i=[];for(let a=0;a<r.length;a++){let s=r[a],l=/^".*"$/.test(s)?s.slice(1,-1):s,c=ml.join(l,e),f=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let p=0;p<n.length;p++){let u=f+n[p];try{if(hl.sync(u,{pathExt:o}))if(t.all)i.push(u);else return u}catch{}}}if(t.all&&i.length)return i;if(t.nothrow)return null;throw gl(e)};wl.exports=bl;bl.sync=Bd});var vl=S((b0,$i)=>{"use strict";var xl=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};$i.exports=xl;$i.exports.default=xl});var kl=S((w0,Tl)=>{"use strict";var Sl=require("path"),qd=_l(),Ud=vl();function El(e,t){let r=e.options.env||process.env,n=process.cwd(),o=e.options.cwd!=null,i=o&&process.chdir!==void 0&&!process.chdir.disabled;if(i)try{process.chdir(e.options.cwd)}catch{}let a;try{a=qd.sync(e.command,{path:r[Ud({env:r})],pathExt:t?Sl.delimiter:void 0})}catch{}finally{i&&process.chdir(n)}return a&&(a=Sl.resolve(o?e.options.cwd:"",a)),a}function Wd(e){return El(e)||El(e,!0)}Tl.exports=Wd});var Cl=S((_0,Ii)=>{"use strict";var Oi=/([()\][%!^"`<>&|;, *?])/g;function Gd(e){return e=e.replace(Oi,"^$1"),e}function Jd(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(Oi,"^$1"),t&&(e=e.replace(Oi,"^$1")),e}Ii.exports.command=Gd;Ii.exports.argument=Jd});var Pl=S((x0,Rl)=>{"use strict";Rl.exports=/^#!(.*)/});var jl=S((v0,Dl)=>{"use strict";var Vd=Pl();Dl.exports=(e="")=>{let t=e.match(Vd);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),o=r.split("/").pop();return o==="env"?n:n?`${o} ${n}`:o}});var $l=S((S0,Fl)=>{"use strict";var Ai=require("fs"),Hd=jl();function Yd(e){let r=Buffer.alloc(150),n;try{n=Ai.openSync(e,"r"),Ai.readSync(n,r,0,150,0),Ai.closeSync(n)}catch{}return Hd(r.toString())}Fl.exports=Yd});var Ml=S((E0,Al)=>{"use strict";var zd=require("path"),Ol=kl(),Il=Cl(),Xd=$l(),Kd=process.platform==="win32",Zd=/\.(?:com|exe)$/i,Qd=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function em(e){e.file=Ol(e);let t=e.file&&Xd(e.file);return t?(e.args.unshift(e.file),e.command=t,Ol(e)):e.file}function tm(e){if(!Kd)return e;let t=em(e),r=!Zd.test(t);if(e.options.forceShell||r){let n=Qd.test(t);e.command=zd.normalize(e.command),e.command=Il.command(e.command),e.args=e.args.map(i=>Il.argument(i,n));let o=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${o}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function rm(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:tm(n)}Al.exports=rm});var Bl=S((T0,Ll)=>{"use strict";var Mi=process.platform==="win32";function Ni(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function nm(e,t){if(!Mi)return;let r=e.emit;e.emit=function(n,o){if(n==="exit"){let i=Nl(o,t,"spawn");if(i)return r.call(e,"error",i)}return r.apply(e,arguments)}}function Nl(e,t){return Mi&&e===1&&!t.file?Ni(t.original,"spawn"):null}function om(e,t){return Mi&&e===1&&!t.file?Ni(t.original,"spawnSync"):null}Ll.exports={hookChildProcess:nm,verifyENOENT:Nl,verifyENOENTSync:om,notFoundError:Ni}});var qi=S((k0,$t)=>{"use strict";var ql=require("child_process"),Li=Ml(),Bi=Bl();function Ul(e,t,r){let n=Li(e,t,r),o=ql.spawn(n.command,n.args,n.options);return Bi.hookChildProcess(o,n),o}function im(e,t,r){let n=Li(e,t,r),o=ql.spawnSync(n.command,n.args,n.options);return o.error=o.error||Bi.verifyENOENTSync(o.status,n),o}$t.exports=Ul;$t.exports.spawn=Ul;$t.exports.sync=im;$t.exports._parse=Li;$t.exports._enoent=Bi});var ua=["ContractMetadata","Permissions"];var nr=x(require("process"),1);var da=(e=0)=>t=>`\x1B[${t+e}m`,ma=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,ha=(e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`,$={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},ga=Object.keys($.modifier),Eo=Object.keys($.color),To=Object.keys($.bgColor),ya=[...Eo,...To];function Yf(){let e=new Map;for(let[t,r]of Object.entries($)){for(let[n,o]of Object.entries(r))$[n]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},r[n]=$[n],e.set(o[0],o[1]);Object.defineProperty($,t,{value:r,enumerable:!1})}return Object.defineProperty($,"codes",{value:e,enumerable:!1}),$.color.close="\x1B[39m",$.bgColor.close="\x1B[49m",$.color.ansi=da(),$.color.ansi256=ma(),$.color.ansi16m=ha(),$.bgColor.ansi=da(10),$.bgColor.ansi256=ma(10),$.bgColor.ansi16m=ha(10),Object.defineProperties($,{rgbToAnsi256:{value(t,r,n){return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value(t){let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(i=>i+i).join(""));let o=Number.parseInt(n,16);return[o>>16&255,o>>8&255,o&255]},enumerable:!1},hexToAnsi256:{value:t=>$.rgbToAnsi256(...$.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,n,o;if(t>=232)r=((t-232)*10+8)/255,n=r,o=r;else{t-=16;let s=t%36;r=Math.floor(t/36)/5,n=Math.floor(s/6)/5,o=s%6/5}let i=Math.max(r,n,o)*2;if(i===0)return 30;let a=30+(Math.round(o)<<2|Math.round(n)<<1|Math.round(r));return i===2&&(a+=60),a},enumerable:!1},rgbToAnsi:{value:(t,r,n)=>$.ansi256ToAnsi($.rgbToAnsi256(t,r,n)),enumerable:!1},hexToAnsi:{value:t=>$.ansi256ToAnsi($.hexToAnsi256(t)),enumerable:!1}}),$}var zf=Yf(),le=zf;var gn=x(require("process"),1),wa=x(require("os"),1),ko=x(require("tty"),1);function Q(e,t=globalThis.Deno?globalThis.Deno.args:gn.default.argv){let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return n!==-1&&(o===-1||n<o)}var{env:N}=gn.default,hn;Q("no-color")||Q("no-colors")||Q("color=false")||Q("color=never")?hn=0:(Q("color")||Q("colors")||Q("color=true")||Q("color=always"))&&(hn=1);function Xf(){if("FORCE_COLOR"in N)return N.FORCE_COLOR==="true"?1:N.FORCE_COLOR==="false"?0:N.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(N.FORCE_COLOR,10),3)}function Kf(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function Zf(e,{streamIsTTY:t,sniffFlags:r=!0}={}){let n=Xf();n!==void 0&&(hn=n);let o=r?hn:n;if(o===0)return 0;if(r){if(Q("color=16m")||Q("color=full")||Q("color=truecolor"))return 3;if(Q("color=256"))return 2}if("TF_BUILD"in N&&"AGENT_NAME"in N)return 1;if(e&&!t&&o===void 0)return 0;let i=o||0;if(N.TERM==="dumb")return i;if(gn.default.platform==="win32"){let a=wa.default.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in N)return"GITHUB_ACTIONS"in N?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(a=>a in N)||N.CI_NAME==="codeship"?1:i;if("TEAMCITY_VERSION"in N)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(N.TEAMCITY_VERSION)?1:0;if(N.COLORTERM==="truecolor"||N.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in N){let a=Number.parseInt((N.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(N.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(N.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(N.TERM)||"COLORTERM"in N?1:i}function ba(e,t={}){let r=Zf(e,{streamIsTTY:e&&e.isTTY,...t});return Kf(r)}var Qf={stdout:ba({isTTY:ko.default.isatty(1)}),stderr:ba({isTTY:ko.default.isatty(2)})},_a=Qf;function xa(e,t,r){let n=e.indexOf(t);if(n===-1)return e;let o=t.length,i=0,a="";do a+=e.slice(i,n)+t+r,i=n+o,n=e.indexOf(t,i);while(n!==-1);return a+=e.slice(i),a}function va(e,t,r,n){let o=0,i="";do{let a=e[n-1]==="\r";i+=e.slice(o,a?n-1:n)+t+(a?`\r
`:`
`)+r,o=n+1,n=e.indexOf(`
`,o)}while(n!==-1);return i+=e.slice(o),i}var{stdout:Sa,stderr:Ea}=_a,Co=Symbol("GENERATOR"),dt=Symbol("STYLER"),Bt=Symbol("IS_EMPTY"),Ta=["ansi","ansi","ansi256","ansi16m"],mt=Object.create(null),ep=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=Sa?Sa.level:0;e.level=t.level===void 0?r:t.level};var tp=e=>{let t=(...r)=>r.join(" ");return ep(t,e),Object.setPrototypeOf(t,qt.prototype),t};function qt(e){return tp(e)}Object.setPrototypeOf(qt.prototype,Function.prototype);for(let[e,t]of Object.entries(le))mt[e]={get(){let r=yn(this,Po(t.open,t.close,this[dt]),this[Bt]);return Object.defineProperty(this,e,{value:r}),r}};mt.visible={get(){let e=yn(this,this[dt],!0);return Object.defineProperty(this,"visible",{value:e}),e}};var Ro=(e,t,r,...n)=>e==="rgb"?t==="ansi16m"?le[r].ansi16m(...n):t==="ansi256"?le[r].ansi256(le.rgbToAnsi256(...n)):le[r].ansi(le.rgbToAnsi(...n)):e==="hex"?Ro("rgb",t,r,...le.hexToRgb(...n)):le[r][e](...n),rp=["rgb","hex","ansi256"];for(let e of rp){mt[e]={get(){let{level:r}=this;return function(...n){let o=Po(Ro(e,Ta[r],"color",...n),le.color.close,this[dt]);return yn(this,o,this[Bt])}}};let t="bg"+e[0].toUpperCase()+e.slice(1);mt[t]={get(){let{level:r}=this;return function(...n){let o=Po(Ro(e,Ta[r],"bgColor",...n),le.bgColor.close,this[dt]);return yn(this,o,this[Bt])}}}}var np=Object.defineProperties(()=>{},{...mt,level:{enumerable:!0,get(){return this[Co].level},set(e){this[Co].level=e}}}),Po=(e,t,r)=>{let n,o;return r===void 0?(n=e,o=t):(n=r.openAll+e,o=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:o,parent:r}},yn=(e,t,r)=>{let n=(...o)=>op(n,o.length===1?""+o[0]:o.join(" "));return Object.setPrototypeOf(n,np),n[Co]=e,n[dt]=t,n[Bt]=r,n},op=(e,t)=>{if(e.level<=0||!t)return e[Bt]?"":t;let r=e[dt];if(r===void 0)return t;let{openAll:n,closeAll:o}=r;if(t.includes("\x1B"))for(;r!==void 0;)t=xa(t,r.close,r.open),r=r.parent;let i=t.indexOf(`
`);return i!==-1&&(t=va(t,o,n,i)),n+t+o};Object.defineProperties(qt.prototype,mt);var ip=qt(),Pm=qt({level:Ea?Ea.level:0});var d=ip;var $o=x(require("process"),1);var Aa=x(require("process"),1),Ma=x(Pa(),1),Na=x(Ia(),1),sp=(0,Ma.default)(()=>{(0,Na.default)(()=>{Aa.default.stderr.write("\x1B[?25h")},{alwaysLast:!0})}),La=sp;var En=!1,bt={};bt.show=(e=$o.default.stderr)=>{e.isTTY&&(En=!1,e.write("\x1B[?25h"))};bt.hide=(e=$o.default.stderr)=>{e.isTTY&&(La(),En=!0,e.write("\x1B[?25l"))};bt.toggle=(e,t)=>{e!==void 0&&(En=e),En?bt.show(t):bt.hide(t)};var Oo=bt;var or=x(Wa(),1);var ee=x(require("process"),1);function Wt(){return ee.default.platform!=="win32"?ee.default.env.TERM!=="linux":!!ee.default.env.CI||!!ee.default.env.WT_SESSION||!!ee.default.env.TERMINUS_SUBLIME||ee.default.env.ConEmuTask==="{cmd::Cmder}"||ee.default.env.TERM_PROGRAM==="Terminus-Sublime"||ee.default.env.TERM_PROGRAM==="vscode"||ee.default.env.TERM==="xterm-256color"||ee.default.env.TERM==="alacritty"||ee.default.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var lp={info:d.blue("\u2139"),success:d.green("\u2714"),warning:d.yellow("\u26A0"),error:d.red("\u2716")},fp={info:d.blue("i"),success:d.green("\u221A"),warning:d.yellow("\u203C"),error:d.red("\xD7")},pp=Wt()?lp:fp,Gt=pp;function Io({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}function Ao(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(Io(),"")}var fc=x(Za(),1);function No({stream:e=process.stdout}={}){return!!(e&&e.isTTY&&process.env.TERM!=="dumb"&&!("CI"in process.env))}var ne=x(require("process"),1),cc=x(require("readline"),1),lc=x(sc(),1);var vd=3,Se,rr,St,Fe,Wn=class{constructor(){M(this,Se,0);M(this,rr,new lc.BufferListStream);M(this,St,void 0);M(this,Fe,void 0);m(this,rr).pipe(ne.default.stdout);let t=this;T(this,St,function(r,n,...o){let{stdin:i}=ne.default;if(m(t,Se)>0||i.emit===m(t,St)){if(r==="keypress")return;r==="data"&&n.includes(vd)&&ne.default.emit("SIGINT"),Reflect.apply(m(t,St),this,[r,n,...o])}else Reflect.apply(ne.default.stdin.emit,this,[r,n,...o])})}start(){Lt(this,Se)._++,m(this,Se)===1&&this._realStart()}stop(){if(m(this,Se)<=0)throw new Error("`stop` called more times than `start`");Lt(this,Se)._--,m(this,Se)===0&&this._realStop()}_realStart(){ne.default.platform!=="win32"&&(T(this,Fe,cc.default.createInterface({input:ne.default.stdin,output:m(this,rr)})),m(this,Fe).on("SIGINT",()=>{ne.default.listenerCount("SIGINT")===0?ne.default.emit("SIGINT"):(m(this,Fe).close(),ne.default.kill(ne.default.pid,"SIGINT"))}))}_realStop(){ne.default.platform!=="win32"&&(m(this,Fe).close(),T(this,Fe,void 0))}};Se=new WeakMap,rr=new WeakMap,St=new WeakMap,Fe=new WeakMap;var Gn,$e,Et,Xe,Ee,q,ye,J,Ke,Tt,be,we,_e,kt,pe,gi=class{constructor(t){M(this,$e,0);M(this,Et,!1);M(this,Xe,0);M(this,Ee,0);M(this,q,void 0);M(this,ye,void 0);M(this,J,void 0);M(this,Ke,void 0);M(this,Tt,void 0);M(this,be,void 0);M(this,we,void 0);M(this,_e,void 0);M(this,kt,void 0);M(this,pe,void 0);fa(this,"color");Gn||(Gn=new Wn),typeof t=="string"&&(t={text:t}),T(this,q,{color:"cyan",stream:nr.default.stderr,discardStdin:!0,hideCursor:!0,...t}),this.color=m(this,q).color,this.spinner=m(this,q).spinner,T(this,Tt,m(this,q).interval),T(this,J,m(this,q).stream),T(this,be,typeof m(this,q).isEnabled=="boolean"?m(this,q).isEnabled:No({stream:m(this,J)})),T(this,we,typeof m(this,q).isSilent=="boolean"?m(this,q).isSilent:!1),this.text=m(this,q).text,this.prefixText=m(this,q).prefixText,this.indent=m(this,q).indent,nr.default.env.NODE_ENV==="test"&&(this._stream=m(this,J),this._isEnabled=m(this,be),Object.defineProperty(this,"_linesToClear",{get(){return m(this,$e)},set(r){T(this,$e,r)}}),Object.defineProperty(this,"_frameIndex",{get(){return m(this,Ee)}}),Object.defineProperty(this,"_lineCount",{get(){return m(this,Xe)}}))}get indent(){return m(this,_e)}set indent(t=0){if(!(t>=0&&Number.isInteger(t)))throw new Error("The `indent` option must be an integer from 0 and up");T(this,_e,t),this.updateLineCount()}get interval(){return m(this,Tt)||m(this,ye).interval||100}get spinner(){return m(this,ye)}set spinner(t){if(T(this,Ee,0),T(this,Tt,void 0),typeof t=="object"){if(t.frames===void 0)throw new Error("The given spinner must have a `frames` property");T(this,ye,t)}else if(!Wt())T(this,ye,or.default.line);else if(t===void 0)T(this,ye,or.default.dots);else if(t!=="default"&&or.default[t])T(this,ye,or.default[t]);else throw new Error(`There is no built-in spinner named '${t}'. See https://github.com/sindresorhus/cli-spinners/blob/main/spinners.json for a full list.`)}get text(){return m(this,kt)}set text(t){T(this,kt,t||""),this.updateLineCount()}get prefixText(){return m(this,pe)}set prefixText(t){T(this,pe,t||""),this.updateLineCount()}get isSpinning(){return m(this,Ke)!==void 0}getFullPrefixText(t=m(this,pe),r=" "){return typeof t=="string"&&t!==""?t+r:typeof t=="function"?t()+r:""}updateLineCount(){let t=m(this,J).columns||80,r=this.getFullPrefixText(m(this,pe),"-");T(this,Xe,0);for(let n of Ao(" ".repeat(m(this,_e))+r+"--"+m(this,kt)).split(`
`))T(this,Xe,m(this,Xe)+Math.max(1,Math.ceil((0,fc.default)(n)/t)))}get isEnabled(){return m(this,be)&&!m(this,we)}set isEnabled(t){if(typeof t!="boolean")throw new TypeError("The `isEnabled` option must be a boolean");T(this,be,t)}get isSilent(){return m(this,we)}set isSilent(t){if(typeof t!="boolean")throw new TypeError("The `isSilent` option must be a boolean");T(this,we,t)}frame(){let{frames:t}=m(this,ye),r=t[m(this,Ee)];this.color&&(r=d[this.color](r)),T(this,Ee,++Lt(this,Ee)._%t.length);let n=typeof m(this,pe)=="string"&&m(this,pe)!==""?m(this,pe)+" ":"",o=typeof this.text=="string"?" "+this.text:"";return n+r+o}clear(){if(!m(this,be)||!m(this,J).isTTY)return this;m(this,J).cursorTo(0);for(let t=0;t<m(this,$e);t++)t>0&&m(this,J).moveCursor(0,-1),m(this,J).clearLine(1);return(m(this,_e)||this.lastIndent!==m(this,_e))&&m(this,J).cursorTo(m(this,_e)),this.lastIndent=m(this,_e),T(this,$e,0),this}render(){return m(this,we)?this:(this.clear(),m(this,J).write(this.frame()),T(this,$e,m(this,Xe)),this)}start(t){return t&&(this.text=t),m(this,we)?this:m(this,be)?this.isSpinning?this:(m(this,q).hideCursor&&Oo.hide(m(this,J)),m(this,q).discardStdin&&nr.default.stdin.isTTY&&(T(this,Et,!0),Gn.start()),this.render(),T(this,Ke,setInterval(this.render.bind(this),this.interval)),this):(this.text&&m(this,J).write(`- ${this.text}
`),this)}stop(){return m(this,be)?(clearInterval(m(this,Ke)),T(this,Ke,void 0),T(this,Ee,0),this.clear(),m(this,q).hideCursor&&Oo.show(m(this,J)),m(this,q).discardStdin&&nr.default.stdin.isTTY&&m(this,Et)&&(Gn.stop(),T(this,Et,!1)),this):this}succeed(t){return this.stopAndPersist({symbol:Gt.success,text:t})}fail(t){return this.stopAndPersist({symbol:Gt.error,text:t})}warn(t){return this.stopAndPersist({symbol:Gt.warning,text:t})}info(t){return this.stopAndPersist({symbol:Gt.info,text:t})}stopAndPersist(t={}){if(m(this,we))return this;let r=t.prefixText||m(this,pe),n=t.text||this.text,o=typeof n=="string"?" "+n:"";return this.stop(),m(this,J).write(`${this.getFullPrefixText(r," ")}${t.symbol||" "}${o}
`),this}};$e=new WeakMap,Et=new WeakMap,Xe=new WeakMap,Ee=new WeakMap,q=new WeakMap,ye=new WeakMap,J=new WeakMap,Ke=new WeakMap,Tt=new WeakMap,be=new WeakMap,we=new WeakMap,_e=new WeakMap,kt=new WeakMap,pe=new WeakMap;function A(e){return new gi(e)}function Jn(e,t){let r=["debug","info","warn","error"];return r.indexOf(t)>=r.indexOf(e)}var Te,yi=class{constructor(t){M(this,Te,"info");t?.minLevel&&T(this,Te,t.minLevel)}setSettings(t){t.minLevel&&T(this,Te,t.minLevel)}debug(...t){Jn(m(this,Te),"debug")&&console.info(...t)}info(...t){Jn(m(this,Te),"info")&&console.info(...t)}warn(...t){Jn(m(this,Te),"warn")&&console.warn(...t)}error(...t){Jn(m(this,Te),"error")&&console.error(...t)}};Te=new WeakMap;var _=new yi;function ue(e){return A(`${e}
`).start()}function R(e){return A(e).succeed()}function pc(e){return A(e).warn()}function ir(e){return A(e).fail()}var de=require("fs"),Oe=require("path");function Z(e,t,r){if(!(0,de.existsSync)(e)){console.log("no dir ",e);return}let n=(0,de.readdirSync)(e);for(let o=0;o<n.length;o++){let i=(0,Oe.join)(e,n[o]);if((0,Oe.basename)(i,".json")==="ThirdwebContract")continue;let a=(0,de.statSync)(i);if(a.isDirectory()&&(0,Oe.basename)(i)==="dependencies"){_.debug('skipping "dependencies" directory');continue}else if(a.isDirectory()&&(0,Oe.basename)(i)==="node_modules"){_.debug('skipping "node_modules" directory');continue}a.isDirectory()?Z(i,t,r):t.test(i)&&r.push(i)}}function bi(e,t,r){if(!(0,de.existsSync)(e)){console.log("no dir ",e);return}let n=(0,de.readdirSync)(e);for(let o=0;o<n.length;o++){let i=(0,Oe.join)(e,n[o]),a=(0,de.statSync)(i);if(!(a.isDirectory()&&(0,Oe.basename)(i)==="node_modules")&&!(a.isDirectory()&&i.startsWith(".")))if(a.isDirectory())bi(i,t,r);else{let l=(0,de.readFileSync)(i,"utf-8").match(t);l&&r.push(...l)}}}var uc=require("child_process");async function Y(e,t,r={log:!1,cwd:t}){return new Promise((n,o)=>{(0,uc.exec)(e,{...r},(i,a,s)=>{if(i){o(i);return}n({stdout:a,stderr:s})})})}var dc=require("@thirdweb-dev/sdk/evm"),oe=class{shouldProcessContract(t,r,n){if(!r||r===""||r==="0x"||!t||t.length===0)return!1;if(n==="ThirdwebContract"||n.toLowerCase().includes("test")||n.toLowerCase().includes("mock"))return _.debug(`Skipping '${n}'.`),!1;let o;try{o=(0,dc.extractIPFSHashFromBytecode)(r)}catch(i){_.debug(`Error extracting IPFS hash from '${n}': ${i}`)}return o?!0:(_.debug(`Cannot resolve build metadata IPFS hash for contract '${n}'. Skipping.`),!1)}isThirdwebContract(t){try{return t.name==="setThirdwebInfo"&&t.inputs[0].internalType==="struct ThirdwebContract.ThirdwebInfo"?(_.error("You are using an old version of ThirdwebContract, please update to the latest version: 'npm i @thirdweb-dev/contracts'"),!1):t.name==="tw_initializeOwner"&&t.inputs[0].internalType==="address"}catch{return!1}}};var Ze=require("fs"),Ct=require("path"),mc=require("yaml"),Vn=class extends oe{async compile(t){let r=(0,mc.parse)((0,Ze.readFileSync)((0,Ct.join)(t.projectPath,"brownie-config.yaml"),"utf-8")),n=(0,Ct.join)(t.projectPath,r?.project_structure?.build||"./build");(0,Ze.existsSync)(n)&&(0,Ze.rmSync)(n,{recursive:!0}),await Y("brownie compile",t.projectPath);let o=(0,Ct.join)(n,"contracts/"),i=[],a=[];Z(o,/^.*(?<!dbg)\.json$/,a);for(let s of a){_.debug("Processing:",s.replace(o,""));let l=(0,Ct.basename)(s,".json"),c=(0,Ze.readFileSync)(s,"utf-8"),f=JSON.parse(c),{abi:p,bytecode:u}=f;for(let w of p)if(this.isThirdwebContract(w)){i.find(y=>y.name===l)&&(_.error(`Found multiple contracts with name "${l}". Contract names should be unique.`),process.exit(1)),i.push({metadata:{},bytecode:u,sources:[],fileName:"",name:l});break}}return{contracts:i}}};var hc=require("child_process");async function Hn(){return await new Promise(e=>{(0,hc.exec)("forge --version",t=>{e(!t)})})}var Rt=require("fs"),Pt=require("path"),Yn=class extends oe{async compile(t){await Hn()||(console.error(`
${d.redBright("error")} You don't have forge installed on this machine!

You can install forge by following these instructions:
${d.blueBright("https://book.getfoundry.sh/getting-started/installation")}
`),process.exit(1)),t.clean&&await Y("forge clean",t.projectPath),await Y("forge build --extra-output metadata",t.projectPath);let n=(await Y("forge config --json",t.projectPath)).stdout,o=JSON.parse(n),i=(0,Pt.join)(t.projectPath,o.out),a=[],s=[];Z(i,/^.*(?<!metadata)\.json$/,s);for(let l=0;l<s.length;l++){let c=s[l],f=(0,Pt.basename)(c,".json"),p=(0,Rt.readFileSync)(c,"utf-8"),u=JSON.parse(p);if(!u.bytecode||!u.deployedBytecode||!u.metadata){_.debug("Skipping",f,"(no bytecode or metadata)");continue}let w=u.metadata.settings.compilationTarget;if(Object.keys(w).length===0||Object.keys(w)[0].includes("@")||this.isTestOrScript(Object.keys(w)[0])){_.debug("Skipping",f,"(not a source target)");continue}if(f.startsWith("std")){_.debug("Skipping",f,"(std library contract)");continue}let y=u.bytecode.object,b=u.deployedBytecode.object,h=u.metadata,g=u.rawMetadata||this.sanitizeParsedMetadata(h,u.abi),v=Object.keys(h.sources).map(P=>{if(P.startsWith("/")&&(0,Rt.existsSync)(P))return P;let se=(0,Pt.join)(t.projectPath,P);if((0,Rt.existsSync)(se))return se;let ce=(0,Pt.join)(t.projectPath,"node_modules",P);if((0,Rt.existsSync)(ce))return ce}).filter(P=>P!==void 0),F=Object.keys(h?.settings?.compilationTarget||{}),C=F.length>0?F[0]:"";this.shouldProcessContract(u.abi,b,f)&&a.push({name:f,metadata:g,bytecode:y,fileName:C,sources:v})}return{contracts:a}}isTestOrScript(t){return t.endsWith(".s.sol")||t.endsWith(".t.sol")}sort(t){if(typeof t!="object"||t instanceof Array)return t;var r=Object.keys(t);r.sort();for(var n={},o=0;o<r.length;o++)n[r[o]]=this.sort(t[r[o]]);return n}sanitizeParsedMetadata(t,r){t.output.abi=r,t.settings.libraries||(t.settings.libraries={}),t.settings.evmVersion||(t.settings.evmVersion="london"),delete t.settings.outputSelection;let n=this.sort(t);return JSON.stringify(n)}};var Dt=require("fs"),Ie=require("path"),zn=class extends oe{async compile(t){t.clean&&await Y("npx hardhat clean",t.projectPath),await Y("npx hardhat compile",t.projectPath);let r=(0,Ie.resolve)(__dirname,"../helpers/hardhat-config-extractor.js"),n=(await Y(`npx hardhat run "${r}" --no-compile`,t.projectPath)).stdout,o=JSON.parse(n.split("__tw__")[1]);_.debug("successfully extracted hardhat config",o);let i=o.solidity.compilers;if(i)for(let w of i){let y=w.settings?.metadata?.bytecodeHash;if(y&&y!=="ipfs")throw new Error(`Deploying requires "bytecodeHash: 'ipfs'" in your hardhat.config.js file, but it's currently set as "bytecodeHash: '${y}'". Please change it to 'ipfs' and try again.`)}let a=o.paths.artifacts,s=o.paths.sources.replace(t.projectPath,""),l=(0,Ie.join)(a,s),c=[];Z(l,/^.*(?<!dbg)\.json$/,[]);let p=(0,Ie.join)(a,"build-info"),u=[];Z(p,/^.*(?<!dbg)\.json$/,u);for(let w of u){let y=(0,Dt.readFileSync)(w,"utf-8"),h=JSON.parse(y).output.contracts;for(let[g,v]of Object.entries(h)){if(g.includes("@")){_.debug("Skipping",g,"(not a source target)");continue}for(let[F,C]of Object.entries(v)){let P=C;if(!P.evm||!P.evm.bytecode||!P.evm.bytecode.object||!P.metadata||!P.abi){_.debug("Skipping",g,"(no bytecode or metadata)");continue}let se=P.evm.bytecode.object,ce=P.evm.deployedBytecode.object,{metadata:Mt,abi:vo}=P,ia=JSON.parse(Mt),Lf=Object.keys(ia.sources).map(Nt=>{let sa=(0,Ie.join)(t.projectPath,Nt);if((0,Dt.existsSync)(sa))return sa;let ca=(0,Ie.join)(t.projectPath,s,Nt);if((0,Dt.existsSync)(ca))return ca;let la=(0,Ie.join)(t.projectPath,"node_modules",Nt);if((0,Dt.existsSync)(la))return la}).filter(Nt=>Nt!==void 0),aa=Object.keys(ia?.settings?.compilationTarget||{}),Bf=aa.length>0?aa[0]:"";this.shouldProcessContract(vo,ce,F)&&c.push({metadata:Mt,bytecode:se,name:F,fileName:Bf,sources:Lf})}}}return{contracts:c}}};var W=require("fs"),ke=require("path"),gc=x(require("solc")),Xn=class extends oe{async compile(t){let r=[];Z(t.projectPath,/^.*\.sol$/,r);let n=r.reduce((c,f)=>{let p=(0,W.readFileSync)(f,"utf-8");return c[(0,ke.basename)(f)]={content:p},c},{}),o={language:"Solidity",sources:n,settings:{outputSelection:{"*":{"*":["*"]}},optimizer:{enabled:!0,runs:800}}},i=JSON.parse(gc.default.compile(JSON.stringify(o),{import:c=>{let f=(0,ke.join)(t.projectPath,"node_modules",c);return(0,W.existsSync)(f)?{contents:(0,W.readFileSync)(f,"utf-8")}:{error:"file not found"}}}));if(i.errors)throw _.error(i.errors),new Error("Error compiling Solidity files");let a=(0,ke.join)(t.projectPath,"artifacts");(0,W.existsSync)(a)&&(0,W.rmSync)(a,{recursive:!0}),(0,W.existsSync)(a)||(0,W.mkdirSync)(a),Object.keys(i.contracts).filter(c=>c in n).forEach(c=>{let f=i.contracts[c],p=(0,ke.join)(t.projectPath,"artifacts",c);(0,W.existsSync)(p)||(0,W.mkdirSync)(p);let u=Object.keys(f);for(let w of u){let y=f[w],b=(0,ke.join)(p,w+".json");(0,W.writeFileSync)(b,JSON.stringify(y,null,2))}});let s=[],l=[];Z(a,/^.*(?<!dbg)\.json$/,l);for(let c of l){_.debug("Processing:",c.replace(a,""));let f=(0,ke.basename)(c,".json"),p=(0,W.readFileSync)(c,"utf-8"),u=JSON.parse(p),w=u.evm.bytecode.object,y=u.evm.deployedBytecode.object,b=u.metadata,h=JSON.parse(b),g=h.output.abi,v=h.settings.compilationTarget;if(Object.keys(v).length===0||Object.keys(v)[0].includes("@")){_.debug("Skipping",f,"(not a source target)");continue}let F=Object.keys(h.sources).map(se=>{let ce=r.find(vo=>vo.includes(se));if(ce&&(0,W.existsSync)(ce))return ce;let Mt=(0,ke.join)(t.projectPath,"node_modules",se);if((0,W.existsSync)(Mt))return Mt}).filter(se=>se!==void 0),C=Object.keys(h?.settings?.compilationTarget||{}),P=C.length>0?C[0]:"";this.shouldProcessContract(g,y,f)&&s.push({metadata:b,bytecode:w,name:f,fileName:P,sources:F})}return{contracts:s}}};var Ae=require("fs"),ar=require("path"),Kn=class extends oe{async compile(t){let r=require((0,ar.join)(t.projectPath,"truffle-config.js")),n=(0,ar.join)(t.projectPath,r.contracts_build_directory||"./build/contracts");(0,Ae.existsSync)(n)&&(0,Ae.rmSync)(n,{recursive:!0}),await Y("npx --yes truffle compile",t.projectPath);let o=[],i=[];Z(n,/^.*(?<!dbg)\.json$/,i);for(let a of i){_.debug("Processing:",a.replace(n,""));let s=(0,Ae.readFileSync)(a,"utf-8"),l=JSON.parse(s),{contractName:c,metadata:f,bytecode:p,deployedBytecode:u}=l,w=JSON.parse(f),y=w.output.abi,b=w.settings.compilationTarget;if(Object.keys(b).length===0||Object.keys(b)[0].includes("@")){_.debug("Skipping",c,"(not a source target)");continue}let h=Object.keys(w.sources).map(F=>{F=F.replace("project:/","");let C=(0,ar.join)(t.projectPath,F);if((0,Ae.existsSync)(C))return C;let P=(0,ar.join)(t.projectPath,"node_modules",F);if((0,Ae.existsSync)(P))return P}).filter(F=>F!==void 0),g=Object.keys(w?.settings?.compilationTarget||{}),v=g.length>0?g[0]:"";this.shouldProcessContract(y,u,c)&&o.push({metadata:f,bytecode:p,name:c,fileName:v,sources:h})}return{contracts:o}}};async function sr(e,t,r){let n;switch(t){case"hardhat":{n=new zn;break}case"foundry":{n=new Yn;break}case"truffle":{n=new Kn;break}case"brownie":{n=new Vn;break}default:{n=new Xn;break}}return await n.compile({name:"",projectPath:e,clean:r.clean})}var ie={typeOfProject:"What type of project do you want to create?",projectName:"What is your project named?",contractName:"What will be the name of your new smart contract?",extensionName:"What will be the name of your new extension?",chain:"Which blockchain do you want to use?",framework:"What framework do you want to use?",language:"What language do you want to use?",contract:"What type of contract do you want to start from?",extensions:"What extensions do you want to add to your contract?",reactNative:"What type of React Native project do you want to create?"},yc={chains:"What chains are you using in your project?"},bc={noConfiguration:"No contract project configuration file found in current directory"};var wc=require("fs"),Qe=class{constructor(){this.projectType="foundry"}matches(t){return(0,wc.existsSync)(t+"/foundry.toml")}};var wi=require("fs"),et=class{constructor(){this.projectType="hardhat"}matches(t){return(0,wi.existsSync)(t+"/hardhat.config.js")||(0,wi.existsSync)(t+"/hardhat.config.ts")}};var _c=require("fs"),tt=class{constructor(){this.projectType="truffle"}matches(t){return(0,_c.existsSync)(t+"/truffle-config.js")}};var Zn=require("fs"),xc=x(require("inquirer")),vc=require("path"),{Confirm:Sd}=require("enquirer");async function rt(e,t){let n=[new et,new Qe,new tt].filter(i=>i.matches(e)).map(i=>i.projectType);if(!n.length)return Ed(e)?(pc(`${bc.noConfiguration} ${e}`),await new Sd({name:"continue",message:"Do you want to continue and compile this project with solc instead?",initial:!0}).run()||(_.warn("Aborted contract compilation"),process.exit(1)),"solc"):"none";if(n.length===1)return R(`Detected project type: ${n[0]}`),n[0];R(`Detected multiple possible build tools: ${n.map(i=>`"${i}"`).join(", ")}`);let o="How would you like to compile your contracts";return t.ci?n[0]:(await xc.default.prompt({type:"list",choices:n,name:o}))[o]}function Ed(e){return["","/contracts"].filter(t=>{let r=e+t;return(0,Zn.existsSync)(r)?(0,Zn.readdirSync)(r).filter(i=>{let{ext:a}=(0,vc.parse)(i);return a===".sol"}).length>0:!1}).length>0}var Sc=x(require("prompts")),{MultiSelect:Td}=require("enquirer");function Qn(e,t){return new Td({name:"value",message:t,hint:"Use <space> to select, <return> to submit",choices:e,result(r){return this.map(r)},onSubmit(){this.selected.length===0&&this.enable(this.focused)},indicator(r,n){return n.enabled?this.styles.primary(this.symbols.hexagon.on):this.symbols.hexagon.off},styles:{primary:d.blueBright,get em(){return this.primary}}})}async function Ec(e,t){return await(0,Sc.default)({type:"select",name:"routerType",message:t,choices:e})}var _i=require("child_process");function eo(){try{let e=process.env.npm_config_user_agent;if(e){if(e.startsWith("yarn"))return"yarn";if(e.startsWith("pnpm"))return"pnpm"}try{return(0,_i.execSync)("yarn --version",{stdio:"ignore"}),"yarn"}catch{return(0,_i.execSync)("pnpm --version",{stdio:"ignore"}),"pnpm"}}catch{return"npm"}}var Tc=require("@thirdweb-dev/sdk");var to=require("fs");var kc=x(require("path"));async function xi(e){_.setSettings({minLevel:e.debug?"debug":"info"});let t=process.cwd();e.path&&(_.debug("Overriding project path to "+e.path),t=e.path.startsWith("/")?e.path:kc.default.resolve(`${t}/${e.path}`)),_.debug("Processing project at path "+t);let r=await rt(t,e),n,o=ue("Compiling project...");try{n=await sr(t,r,e)}catch(s){o.fail("Compilation failed"),_.error(s),process.exit(1)}o.succeed("Compilation successful");let i=[];if(n.contracts.length===1)i=[n.contracts[0]];else if(e.all)i=n.contracts;else{let s=n.contracts.map(f=>({name:f.name,value:f})),c=await Qn(s,"Choose which contracts to run detection on").run();i=Object.keys(c).map(f=>c[f])}i.map(s=>{let l=JSON.parse(s.metadata).output.abi,c=Cc((0,Tc.detectFeatures)(l)),f=c.enabledFeatures.map(u=>({name:u.name,reference:`https://portal.thirdweb.com/interfaces/${u.name.toLowerCase()}`})),p=c.suggestedFeatures.map(u=>({name:u.name,reference:`https://portal.thirdweb.com/interfaces/${u.name.toLowerCase()}`}));return{name:s.name,enabledFeatures:f,suggestedFeatures:p}}).map(s=>{_.info(`
`),s.enabledFeatures.length===0?A(`No extensions detected on ${d.blueBright(s.name)}`).stopAndPersist({symbol:"\u{1F50E}"}):(A(`Detected extension on ${d.blueBright(s.name)}`).stopAndPersist({symbol:"\u{1F50E}"}),s.enabledFeatures.map(c=>{_.info(`\u2714\uFE0F ${d.green(c.name)}`)})),_.info(""),A("Suggested extensions").info(),s.suggestedFeatures.map(c=>{_.info(`${d.dim(d.gray("-"))} ${d.gray(c.name)} - ${d.dim(d.gray(c.reference))}`)});let l="npx thirdweb@latest deploy";if((0,to.existsSync)(t+"/package.json")){let c=eo(),f=c==="yarn";JSON.parse((0,to.readFileSync)(t+"/package.json","utf-8"))?.scripts?.deploy===l&&(l=`${c}${f?"":" run"} deploy`)}_.info(""),A("Once you're done writing your contracts, you can run the following command to deploy them:").info(),_.info(""),_.info(`     ${d.cyan(l)}`),_.info("")})}function Cc(e,t=[],r=[],n="__ROOT__"){if(!e)return{enabledFeatures:t,suggestedFeatures:r};for(let o in e){let i=e[o];i.enabled?t.push(i):(t.findIndex(a=>a.name===n)>-1||ua.includes(i.name))&&r.push(i),Cc(i.features,t,r,i.name)}return{enabledFeatures:t,suggestedFeatures:r}}var Ic=x(require("inquirer"));var Rc=require("fs"),cr=class{constructor(){this.packageManagerType="npm"}matches(t){return(0,Rc.existsSync)(t+"/package-lock.json")}};var Pc=require("fs"),lr=class{constructor(){this.packageManagerType="yarn"}matches(t){return(0,Pc.existsSync)(t+"/yarn.lock")}};var Dc=require("fs"),fr=class{constructor(){this.packageManagerType="pnpm"}matches(t){return["/pnpm-lock.yaml","/pnpm-workspace.yaml","/.pnpm"].some(n=>(0,Dc.existsSync)(t+n))}};var jc=require("fs"),pr=class{constructor(){this.packageManagerType="conda"}matches(t){return["/environment.yml","/environment.yaml","/conda-requirements.txt","/.conda","/.condarc"].some(n=>(0,jc.existsSync)(t+n))}};var Fc=require("fs"),ur=class{constructor(){this.packageManagerType="pip"}matches(t){return(0,Fc.existsSync)(t+"/requirements.txt")}};var $c=require("fs"),dr=class{constructor(){this.packageManagerType="pipenv"}matches(t){return["/Pipfile","/Pipfile.lock"].some(n=>(0,$c.existsSync)(t+n))}};var Oc=require("fs"),mr=class{constructor(){this.packageManagerType="poetry"}matches(t){return["/pyproject.toml","/poetry.lock"].some(n=>(0,Oc.existsSync)(t+n))}};async function vi(e,t){let n=[new cr,new lr,new fr,new pr,new ur,new dr,new mr].filter(i=>i.matches(e)).map(i=>i.packageManagerType);if(!n.length)return"none";if(n.length===1)return n[0];R(`Detected multiple possible package managers: ${n.map(i=>`"${i}"`).join(", ")}`);let o="We detected multiple possible package managers, which one do you want to use?";return t.ci?n[0]:(await Ic.default.prompt({type:"list",choices:n,name:o}))[o]}var Wc=x(require("inquirer"));var hr=require("fs");var Si=x(require("@iarna/toml")),Ac=x(require("js-yaml")),xe=require("fs"),D=e=>{let t=JSON.parse(e.toString()),r=t.dependencies||{},n=t.devDependencies||{};return{dependencies:r,devDependencies:n}},kd=e=>({dependencies:e.toString().split(`
`)}),Cd=e=>{let t=Si.parse(e),r=t.packages||[],n=t["dev-packages"]||[];return{dependencies:r,devDependencies:n}},Rd=e=>{let t=Si.parse(e),r=t.tool.poetry.dependencies||[],n=t.tool.poetry["dev-dependencies"]||[];return{dependencies:r,devDependencies:n}},Pd=e=>({dependencies:Ac.load(e).dependencies||[]}),Me=e=>{let t=[],r=e.split(`
`);return r.forEach(n=>{if(n=n.trim(),n.startsWith("require (")){let o=r.indexOf(n)+1;for(;o<r.length&&r[o].trim()!==")";){let i=r[o].trim(),[a,s]=i.split(" ");t.push({name:a,version:s}),o++}}}),{dependencies:t}},Ne=(e,t)=>{let r=e.split(`
`);return r.forEach(()=>{if(r.includes(t))return!0}),!1},ae=(e,t)=>{let r=[],n=[];switch(t){case"pip":if((0,xe.existsSync)(e+"Pipfile")){let p=(0,xe.readFileSync)(e+"Pipfile","utf-8"),u=Cd(p);r=u.dependencies,n=u.devDependencies;break}if(!(0,xe.existsSync)(e+"/requirements.txt"))break;let a=(0,xe.readFileSync)(e+"/requirements.txt");r=kd(a).dependencies;break;case"poetry":if(!(0,xe.existsSync)(e+"/pyproject.toml"))break;let l=(0,xe.readFileSync)(e+"/pyproject.toml","utf-8");r=Rd(l).dependencies;break;case"conda":if(!(0,xe.existsSync)(e+"/environment.yml"))break;let f=(0,xe.readFileSync)(e+"/environment.yml","utf-8");r=Pd(f).dependencies;default:break}return{dependencies:r,devDependencies:n}};var gr=class{constructor(){this.frameworkType="next"}matches(t){let r=t+"/package.json";if(!(0,hr.existsSync)(r))return!1;let n=(0,hr.readFileSync)(r),{dependencies:o,devDependencies:i}=D(n),s=["/next.config.js","/next-config.ts"].some(c=>(0,hr.existsSync)(t+c));return o.next||i.next||s||!1}};var ro=require("fs");var yr=class{constructor(){this.frameworkType="cra"}matches(t){let r=t+"/package.json";if(!(0,ro.existsSync)(r))return!1;let n=(0,ro.readFileSync)(r),{dependencies:o,devDependencies:i}=D(n);return o["react-scripts"]||i["react-scripts"]||!1}};var br=require("fs");var wr=class{constructor(){this.frameworkType="remix"}matches(t){let r=t+"/package.json";if(!(0,br.existsSync)(r))return!1;let n=(0,br.readFileSync)(r),{dependencies:o,devDependencies:i}=D(n),s=["/remix.config.js","/remix-config.ts"].some(c=>(0,br.existsSync)(t+c));return Object.keys(o).concat(Object.keys(i)).filter(c=>c.startsWith("@remix-run/")).length>0||s||!1}};var _r=require("fs");var xr=class{constructor(){this.frameworkType="gatsby"}matches(t){let r=t+"/package.json";if(!(0,_r.existsSync)(r))return!1;let n=(0,_r.readFileSync)(r),{dependencies:o,devDependencies:i}=D(n),s=["/gatsby.config.js","/gatsby-config.ts"].some(c=>(0,_r.existsSync)(t+c));return o.gatsby||i.gatsby||s||!1}};var vr=require("fs");var Sr=class{constructor(){this.frameworkType="vue"}matches(t){let r=t+"/package.json";if(!(0,vr.existsSync)(r))return!1;let n=(0,vr.readFileSync)(r),{dependencies:o,devDependencies:i}=D(n),s=["/vue.config.js"].some(l=>(0,vr.existsSync)(t+l));return o.vue||i.vue||s||!1}};var Er=require("fs");var Tr=class{constructor(){this.frameworkType="react-native-cli"}matches(t){let r=t+"/package.json";if(!(0,Er.existsSync)(r))return!1;let n=(0,Er.readFileSync)(r),{dependencies:o,devDependencies:i}=D(n),s=["/android","/ios"].some(l=>(0,Er.existsSync)(t+l));return o["react-native"]||i["react-native"]||s||!1}};var Mc=require("fs");var kr=class{constructor(){this.frameworkType="django"}matches(t,r){let{dependencies:n,devDependencies:o}=ae(t,r),a=["/manage.py"].some(s=>(0,Mc.existsSync)(t+s));return n.includes("django")||o.includes("django")||a||!1}};var Cr=require("fs");var Rr=class{constructor(){this.frameworkType="expo"}matches(t){let r=t+"/package.json";if(!(0,Cr.existsSync)(r))return!1;let n=(0,Cr.readFileSync)(r),{dependencies:o,devDependencies:i}=D(n),s=["/app.json","/app.config.js","/assets"].some(c=>(0,Cr.existsSync)(t+c));return o.expo||i.expo||s||!1}};var Nc=require("fs"),Pr=class{constructor(){this.frameworkType="foundry"}matches(t){return["/foundry.toml","/lib/forge-std/"].some(o=>(0,Nc.existsSync)(t+o))||!1}};var Dr=require("fs");var jr=class{constructor(){this.frameworkType="hardhat"}matches(t){let r=t+"/package.json";if(!(0,Dr.existsSync)(r))return!1;let n=(0,Dr.readFileSync)(r),{dependencies:o,devDependencies:i}=D(n),s=["/hardhat.config.js","/contracts/"].some(c=>(0,Dr.existsSync)(t+c));return o.hardhat||i.hardhat||s||!1}};var Fr=require("fs");var $r=class{constructor(){this.frameworkType="truffle"}matches(t){let r=t+"/package.json";if(!(0,Fr.existsSync)(r))return!1;let n=(0,Fr.readFileSync)(r),{dependencies:o,devDependencies:i}=D(n),s=["/truffle.config.js","/truffle.js","/contracts/"].some(l=>(0,Fr.existsSync)(t+l));return o.truffle||i.truffle||s||!1}};var Lc=require("fs");var Or=class{constructor(){this.frameworkType="brownie"}matches(t,r){let{dependencies:n,devDependencies:o}=ae(t,r),a=["/brownie-config.yaml","/brownie-config.json"].some(s=>(0,Lc.existsSync)(t+s));return n.includes("brownie")||o.includes("brownie")||a||!1}};var Bc=require("fs");var Ir=class{constructor(){this.frameworkType="fastapi"}matches(t,r){let{dependencies:n,devDependencies:o}=ae(t,r),a=["/app.py","/main.py"].some(s=>(0,Bc.existsSync)(t+s));return n.includes("fastapi")||o.includes("fastapi")||a||!1}};var qc=require("fs");var Ar=class{constructor(){this.frameworkType="flask"}matches(t,r){let{dependencies:n,devDependencies:o}=ae(t,r),a=["/app.py","/application.py"].some(s=>(0,qc.existsSync)(t+s));return n.includes("flask")||o.includes("flask")||a||!1}};var Uc=require("fs");var Mr=class{constructor(){this.frameworkType="populus"}matches(t,r){let{dependencies:n,devDependencies:o}=ae(t,r),a=["/populus.json","/populus.yaml"].some(s=>(0,Uc.existsSync)(t+s));return n.includes("populus")||o.includes("populus")||a||!1}};var Nr=require("fs");var Lr=class{constructor(){this.frameworkType="fastify"}matches(t){let r=t+"/package.json";if(!(0,Nr.existsSync)(r))return!1;let n=(0,Nr.readFileSync)(r),{dependencies:o,devDependencies:i}=D(n),s=["/server.js","/app.js","/server.ts","/app.ts"].some(c=>(0,Nr.existsSync)(t+c));return o.fastify||i.fastify||s||!1}};var nt=require("fs");var Br=class{constructor(){this.frameworkType="echo"}matches(t){let r=t+"/go.mod",n=t+"/main.go",o=!1;if(!(0,nt.existsSync)(r)&&!(0,nt.existsSync)(n))return!1;if((0,nt.existsSync)(r)){let s=(0,nt.readFileSync)(r,"utf-8"),{dependencies:l}=Me(s);o=["github.com/labstack/echo"].some(f=>l.some(p=>p.name===f))}let i=(0,nt.readFileSync)(n,"utf-8"),a=Ne(i,"github.com/labstack/echo");return o||a||!1}};var ot=require("fs");var qr=class{constructor(){this.frameworkType="fiber"}matches(t){let r=t+"/go.mod",n=t+"/main.go",o=!1;if(!(0,ot.existsSync)(r)&&!(0,ot.existsSync)(n))return!1;if((0,ot.existsSync)(r)){let s=(0,ot.readFileSync)(r,"utf-8"),{dependencies:l}=Me(s);o=["github.com/gofiber/fiber"].some(f=>l.some(p=>p.name===f))}let i=(0,ot.readFileSync)(n,"utf-8"),a=Ne(i,"github.com/gofiber/fiber");return o||a||!1}};var it=require("fs");var Ur=class{constructor(){this.frameworkType="gin"}matches(t){let r=t+"/go.mod",n=t+"/main.go",o=!1;if(!(0,it.existsSync)(r)&&!(0,it.existsSync)(n))return!1;if((0,it.existsSync)(r)){let s=(0,it.readFileSync)(r,"utf-8"),{dependencies:l}=Me(s);o=["github.com/gin-gonic/gin"].some(f=>l.some(p=>p.name===f))}let i=(0,it.readFileSync)(n,"utf-8"),a=Ne(i,"github.com/gin-gonic/gin");return o||a||!1}};var at=require("fs");var Wr=class{constructor(){this.frameworkType="revel"}matches(t){let r=t+"/go.mod",n=t+"/main.go",o=!1;if(!(0,at.existsSync)(r)&&!(0,at.existsSync)(n))return!1;if((0,at.existsSync)(r)){let s=(0,at.readFileSync)(r,"utf-8"),{dependencies:l}=Me(s);o=["github.com/revel/revel"].some(f=>l.some(p=>p.name===f))}let i=(0,at.readFileSync)(n,"utf-8"),a=Ne(i,"github.com/revel/revel");return o||a||!1}};var no=require("fs"),Gr=class{constructor(){this.frameworkType="zenject"}matches(t){let r=(0,no.existsSync)(t+"/Assets/Zenject"),n=(0,no.existsSync)(t+"/Assets/Zenject/OptionalExtras/Zenject.dll"),o=(0,no.existsSync)(t+"/Assets/Scripts/ProjectContext.cs");return r||n||o||!1}};async function Ei(e,t,r){let o=[new Or,new yr,new kr,new Br,new Rr,new Ir,new Lr,new qr,new Ar,new Pr,new xr,new Ur,new jr,new gr,new Mr,new Tr,new wr,new Wr,new $r,new Sr,new Gr].filter(a=>a.matches(e,r)).map(a=>a.frameworkType);if(!o.length)return"none";if(o.length===1)return o[0];R(`Detected multiple possible frameworks: ${o.map(a=>`"${a}"`).join(", ")}`);let i="We detected multiple possible frameworks which one do you want to use?";return t.ci?o[0]:(await Wc.default.prompt({type:"list",choices:o,name:i}))[i]}var Gc=x(require("inquirer"));var oo=require("fs");var Jr=class{constructor(){this.libraryType="react"}matches(t){let r=t+"/package.json";if(!(0,oo.existsSync)(r))return!1;let n=(0,oo.readFileSync)(r),{dependencies:o,devDependencies:i}=D(n);return o.react||i.react||!1}};var io=require("fs");var Vr=class{constructor(){this.libraryType="express"}matches(t){let r=t+"/package.json";if(!(0,io.existsSync)(r))return!1;let n=(0,io.readFileSync)(r),{dependencies:o,devDependencies:i}=D(n);return o.express||i.express||!1}};var ao=require("fs");var Hr=class{constructor(){this.libraryType="react-native"}matches(t){let r=t+"/package.json";if(!(0,ao.existsSync)(r))return!1;let n=(0,ao.readFileSync)(r),{dependencies:o,devDependencies:i}=D(n);return o["react-native"]||i["react-native"]||!1}};var so=require("fs");var Yr=class{constructor(){this.libraryType="vite"}matches(t){let r=t+"/package.json";if(!(0,so.existsSync)(r))return!1;let n=(0,so.readFileSync)(r),{dependencies:o,devDependencies:i}=D(n);return o.vite||i.vite||!1}};var zr=class{constructor(){this.libraryType="web3py"}matches(t,r){let{dependencies:n,devDependencies:o}=ae(t,r);return n.includes("web3")||o.includes("web3")||!1}};var Ti=require("fs"),Xr=class{constructor(){this.libraryType="playmaker"}matches(t){let r=(0,Ti.existsSync)(t+"/Assets/PlayMaker"),n=(0,Ti.existsSync)(t+"/Editor/PlayMaker.dll");return r||n||!1}};async function ki(e,t,r){let o=[new Vr,new Jr,new Hr,new Yr,new zr,new Xr].filter(a=>a.matches(e,r)).map(a=>a.libraryType);if(!o.length)return"none";if(o.length===1)return o[0];R(`Detected multiple possible libraries: ${o.map(a=>`"${a}"`).join(", ")}`);let i="We detected multiple possible libraries which one do you want to use?";return t.ci?o[0]:(await Gc.default.prompt({type:"list",choices:o,name:i}))[i]}var zc=x(require("inquirer"));var Jc=require("fs"),Kr=class{constructor(){this.languageType="javascript"}matches(t){let r=/\.js$/;return(0,Jc.readdirSync)(t).some(o=>o.match(r))}};var Vc=require("fs"),Zr=class{constructor(){this.languageType="typescript"}matches(t){let r=/\.ts$/;return(0,Vc.readdirSync)(t).some(o=>o.match(r))}};var Hc=require("fs"),Qr=class{constructor(){this.languageType="python"}matches(t){let r=/\.py$/;return(0,Hc.readdirSync)(t).some(o=>o.match(r))}};var Yc=require("fs"),en=class{constructor(){this.languageType="go"}matches(t){let r=/\.go$/;return(0,Yc.readdirSync)(t).some(o=>o.match(r))}};async function Ci(e,t){let n=[new Kr,new Zr,new Qr,new en].filter(i=>i.matches(e)).map(i=>i.languageType);if(!n.length)return"none";if(n.length===1)return n[0];R(`Detected multiple possible languages: ${n.map(i=>`"${i}"`).join(", ")}`);let o="We detected multiple possible languages which one do you want to use?";return t.ci?n[0]:(await zc.default.prompt({type:"list",choices:n,name:o}))[o]}var Kc=x(require("path"));var Xc=["brownie","foundry","hardhat","truffle","solc","none"];async function Zc(e){_.setSettings({minLevel:e.debug?"debug":"info"});let t=process.cwd();e.path&&(_.debug("Overriding project path to "+e.path),t=e.path.startsWith("/")?e.path:Kc.default.resolve(`${t}/${e.path}`)),_.debug("Processing project at path "+t);let r=await vi(t,e),n=await Ci(t,e),o=await ki(t,e,r),i=await Ei(t,e,r),a=Xc.includes(i)?"contract":"app";_.debug("Detected package manager: "+r),_.debug("Detected library: "+o),_.debug("Detected language: "+n),_.debug("Detected framework: "+i),_.debug("Detected app type: "+a)}var Qc="0x0000000000000000000000000000000000000000",Ri={upgradeable:{name:"RouterUpgradeableFactory",metadataUri:"ipfs://QmdqXhoJg9RfDDURHxtHKDprh3VvyWEwZWVtQvnvXMannF",bytecodeUri:"ipfs://QmS63fhpjFFSzGXhM9deRSVaqWvEHEN9gcDkwNjiLr5oiV/1"},"non-upgradeable":{name:"RouterImmutableFactory",metadataUri:"ipfs://QmPMmcxK7RwQfcRwS8kmFU2hLWRLWpgcsESeXeFHM8W3Wp",bytecodeUri:"ipfs://QmS63fhpjFFSzGXhM9deRSVaqWvEHEN9gcDkwNjiLr5oiV/0"},"thirdweb-router":{name:"TWRouterFactory",metadataUri:"ipfs://QmbrV9NUBZAXqoSHpdTzxsZjtubdqumgt6WTMLV8RW3tkV",bytecodeUri:"ipfs://QmYjMfB1uhnnsdz6qmmc3bBAv8jmnniCkjXpDU6jGN8H5s/1"}};var Pi="https://thirdweb.com",Di=el(),jt=Di.version;var ji=require("@thirdweb-dev/storage");var tn=require("ethers"),rn=require("fs");var tl=x(require("path"));async function nn(e,t){let r=new ji.ThirdwebStorage;_.setSettings({minLevel:e.debug?"debug":"info"});let n=process.cwd();e.path&&(_.debug("Overriding project path to "+e.path),n=e.path.startsWith("/")?e.path:tl.default.resolve(`${n}/${e.path}`)),_.debug("Processing project at path "+n);let o=await rt(n,e);if(o==="none"){if(t==="deploy")return R("No contracts detected in this directory. Redirecting to the thirdweb contract explore page."),"https://thirdweb.com/explore";ir("No detected contracts in this directory."),_.info(""),A("Detected contract files must end with the '.sol' extension and exist in this directory or the '/contracts' subdirectory").info(),_.info(""),A("To create a new contracts project, run the following command:").info(),_.info(""),_.info(`     ${d.cyan("npx thirdweb@latest create --contract")}`),_.info(""),process.exit(1)}if(e.ci){_.info("Installing dependencies...");try{switch(o){case"foundry":{await Y("npm install",n),await Y("forge install",n);break}default:{await Y("npm install",n);break}}}catch(u){_.warn("Could not install dependencies",u)}}let i,a=ue("Compiling project...");try{i=await sr(n,o,e)}catch(u){a.fail("Compilation failed"),_.error(u),process.exit(1)}a.succeed("Compilation successful"),i.contracts.length===0&&(_.error("No deployable contract detected. Run with the '--debug' option to see what contracts were skipped and why."),process.exit(1));let s={name:"",metadataUri:"",bytecodeUri:""};if(e.dynamic){let u=Object.keys(Ri).map(b=>({title:b,value:b})),w="",y=await Ec(u,"Choose a router to deploy");typeof y.routerType=="string"&&(w=y.routerType.trim()),s=Ri[w]}e.dynamic&&!s&&(ir("No router selected. Please select a router contract to deploy."),process.exit(1)),e.dynamic&&!s.name&&(ir("No router selected. Please select a router contract to deploy."),process.exit(1));let l=[];if(i.contracts.length===1)l=[i.contracts[0]],R(`Processing contract: ${d.blueBright(l.map(u=>`"${u.name}"`).join(", "))}`);else if(e.ci)l=i.contracts;else{let u=i.contracts.filter(h=>typeof e.file=="string"&&e.file.length>0?h.fileName.includes(e.file):!0).filter(h=>typeof e.contractName=="string"&&e.contractName.length>0?h.name.includes(e.contractName):!0);u.length===0&&(_.error("No contracts found matching the specified filters."),process.exit(1));let w=u.map(h=>i.contracts.filter(g=>g.name===h.name).length>1?{name:`${h.name} - ${d.gray(h.fileName)}`,value:h}:{name:h.name,value:h}),b=await Qn(w,e.dynamic?"Choose which extensions to add to your contract":`Choose which contract(s) to ${t}`).run();l=Object.keys(b).map(h=>b[h])}l.length===0&&(ir(`No contract selected. Please select at least one contract to ${t}.`),process.exit(1)),e.dryRun&&(R("Dry run, skipping deployment"),process.exit(0));let c="@thirdweb-dev/contracts",f=!1;if(e.dynamic)if(s.name==="thirdweb-router"){let u={extensionRegistry:Qc,extensionNames:l.map(y=>y.name)},w=JSON.stringify(u,void 0,2);(0,rn.writeFileSync)("./deployArgs.json",w,"utf-8"),R("Deployment parameters written to deployArgs.json in your project directory")}else{let u=await Fd(l),w=JSON.stringify(u,void 0,2);(0,rn.writeFileSync)("./deployArgs.json",w,"utf-8"),R("Deployment parameters written to deployArgs.json in your project directory")}let p=ue("Uploading contract data...");try{for(let g=0;g<l.length;g++){let v=l[g];if(v.sources)for(let C=0;C<v.sources.length;C=C+3){let P=v.sources.slice(C,C+3);_.debug(`Uploading Sources:
${P.join(`
`)}
`),await Promise.all(P.map(async se=>{let ce=(0,rn.readFileSync)(se,"utf-8");return ce.includes(c)&&(f=!0),await r.upload(ce,{uploadWithoutDirectory:!0})}))}}let u=await Promise.all(l.map(async g=>(_.debug(`Uploading ${g.name}...`),await r.upload(JSON.parse(JSON.stringify(g.metadata)),{uploadWithoutDirectory:!0})))),w=l.map(g=>g.bytecode),y=await r.uploadBatch(w),b=[];if(e.dynamic){let g={command:t,contract_name:s.name,cli_version:jt,project_type:o,from_ci:e.ci||!1,uses_contract_extensions:f};b.push({name:s.name,metadataUri:s.metadataUri,bytecodeUri:s.bytecodeUri,analytics:g})}else b=l.map((g,v)=>{let F={command:t,contract_name:g.name,cli_version:jt,project_type:o,from_ci:e.ci||!1,uses_contract_extensions:f};return{name:g.name,metadataUri:u[v],bytecodeUri:y[v],analytics:F}});let h=[];if(b.length===1){let g=await r.upload(b[0],{uploadWithoutDirectory:!0});h.push(g)}else h=await r.uploadBatch(b);return p.succeed("Upload successful"),jd(h,t)}catch(u){throw p.fail("Error uploading metadata"),u}}function jd(e,t){let r;if(e.length===1)r=new URL(Pi+`/contracts/${t}/`+encodeURIComponent(e[0].replace("ipfs://","")));else{r=new URL(Pi+"/contracts/"+t);for(let n of e)r.searchParams.append("ipfs",n.replace("ipfs://",""))}return r}async function Fd(e){let t=new ji.ThirdwebStorage,r=[],n=[];for(let o of e){let i={name:o.name,metadataURI:await $d(o,t),implementation:tn.ethers.constants.AddressZero},a=JSON.parse(o.metadata).output.abi,s=new tn.ethers.utils.Interface(a),l=[],c=s.functions;for(let f of Object.keys(c))l.push({functionSelector:s.getSighash(c[f]),functionSignature:f});r.push({metadata:i,functions:l}),n.push({name:o.name,amount:0,salt:tn.ethers.utils.keccak256(tn.ethers.utils.toUtf8Bytes(o.name)),bytecode:o.bytecode})}return{extensions:r,extensionDeployArgs:n}}async function $d(e,t){return await t.upload(JSON.parse(JSON.stringify(e.metadata)),{uploadWithoutDirectory:!0})}var Wl=x(qi());async function z(e,t,r=!1,n){return new Promise((o,i)=>{let a=(0,Wl.default)(e,t);a.stdout?.on("data",s=>{n&&n(s),r&&console.log(s.toString())}),a.stderr?.on("error",s=>{r&&console.error(s)}),a.on("close",s=>{if(s!==0){i({command:`${e}`});return}o()})})}var Gl="2.7.6";function Jl(){return new Promise(async(e,t)=>{try{await z("ruby",["-v"],!1,r=>{let o=String(r).split(" ")[1];o.includes(Gl)?e():(console.log(),console.error(`Your current ruby version: ${d.red(`"${o}"`)}, is not supported by this project.`),console.error(`Please, set your ruby version to ${d.green(`"${Gl}"`)} and try again.`),console.error("For more information, please visit the React Native documentation: https://reactnative.dev/docs/environment-setup#ruby"),console.log(),process.exit(1))})}catch(r){t(r)}})}var Vl=x(require("got/dist/source")),Hl=async e=>{try{return(await Vl.default.get(`https://raw.githubusercontent.com/thirdweb-example/${e}/main/package.json`).json())?.scripts?.dev?"dev":"start"}catch{return}};var Le=require("child_process"),Yl=x(require("path")),zl=x(require("rimraf"));function am(){try{return(0,Le.execSync)("git rev-parse --is-inside-work-tree",{stdio:"ignore"}),!0}catch{}return!1}function sm(){try{return(0,Le.execSync)("hg --cwd . root",{stdio:"ignore"}),!0}catch{}return!1}function lo(e){let t=!1;try{return(0,Le.execSync)("git --version",{stdio:"ignore"}),am()||sm()?!1:((0,Le.execSync)("git init",{stdio:"ignore"}),t=!0,(0,Le.execSync)("git checkout -b main",{stdio:"ignore"}),(0,Le.execSync)("git add -A",{stdio:"ignore"}),(0,Le.execSync)('git commit -m "Initial commit from npx thirdweb create"',{stdio:"ignore"}),!0)}catch{if(t)try{zl.default.sync(Yl.default.join(e,".git"))}catch{}return!1}}var Xl=x(qi());function on(e,t,{packageManager:r,isOnline:n,devDependencies:o}){let i=[],a=[];return new Promise((s,l)=>{let c,f=r,p=r==="yarn";t&&t.length?p?(c=["add","--exact"],n||c.push("--offline"),c.push("--cwd",e),o&&c.push("--dev"),c.push(...t)):(c=["install","--save-exact"],c.push(o?"--save-dev":"--save"),c.push(...t)):(c=["install"],n||(console.log(d.yellow("You appear to be offline.")),p?(console.log(d.yellow("Falling back to the local Yarn cache.")),console.log(),c.push("--offline")):console.log())),p?c.push(...a):c.push(...i),(0,Xl.default)(f,c,{stdio:"inherit",env:{...process.env,ADBLOCK:"1",DISABLE_OPENCOLLECTIVE:"1"}}).on("close",w=>{if(w!==0){l({command:`${f} ${c.join(" ")}`});return}s()})})}var Ui=x(require("fs")),Kl=x(require("path"));function fo(e,t){let r=[".DS_Store",".git",".gitattributes",".gitignore",".gitlab-ci.yml",".hg",".hgcheck",".hgignore",".idea",".npmignore",".travis.yml","LICENSE","Thumbs.db","docs","mkdocs.yml","npm-debug.log","yarn-debug.log","yarn-error.log"],n=Ui.default.readdirSync(e).filter(o=>!r.includes(o)).filter(o=>!/\.iml$/.test(o));if(n.length>0){console.log(`The directory ${d.green(t)} contains files that could conflict:`),console.log();for(let o of n)try{Ui.default.lstatSync(Kl.default.join(e,o)).isDirectory()?console.log(`  ${d.blue(o)}/`):console.log(`  ${o}`)}catch{console.log(`  ${o}`)}return console.log(),console.log("Either try using a new directory name, or remove the files listed above."),console.log(),!1}return!0}var Zl=require("child_process"),Wi=x(require("dns")),Ql=x(require("url"));function cm(){if(process.env.https_proxy)return process.env.https_proxy;try{let e=(0,Zl.execSync)("npm config get https-proxy").toString().trim();return e!=="null"?e:void 0}catch{return}}function po(){return new Promise(e=>{Wi.default.lookup("registry.yarnpkg.com",t=>{if(!t)return e(!0);let r=cm();if(!r)return e(!1);let{hostname:n}=Ql.default.parse(r);if(!n)return e(!1);Wi.default.lookup(n,o=>{e(o===null)})})})}var uo=x(require("fs"));async function mo(e){try{return await uo.default.promises.access(e,(uo.default.constants||uo.default).W_OK),!0}catch{return!1}}var ef=x(require("fs"));function ho(e,t={recursive:!0}){return ef.default.promises.mkdir(e,t)}var tf=x(require("path"));function rf(e,t){return new Promise(async(r,n)=>{t||(console.log(d.yellow("You appear to be offline.")),console.log(),n());try{await z("bundle",["install"],!0)}catch(o){n(o)}console.log("Running pod install...");try{process.chdir(tf.default.join(e,"ios")),await z("pod",["install"],!0),process.chdir(e),r()}catch(o){process.chdir(e),n(o)}})}var Gi=x(require("got")),nf=require("stream"),of=x(require("tar")),af=require("util"),lm=(0,af.promisify)(nf.Stream.pipeline);async function fm(e){return(await Gi.default.head(e).catch(r=>r)).statusCode===200}function Ji(e){return fm(`https://api.github.com/repos/thirdweb-example/${encodeURIComponent(e)}`)}function an(e,{name:t,filePath:r}){return lm(Gi.default.stream(`https://codeload.github.com/thirdweb-example/${t}/tar.gz/main`),of.default.extract({cwd:e,strip:r?r.split("/").length+1:1},[`${t}-main${r?`/${r}`:""}`]))}var Vi=x(require("async-retry"));var sn=x(require("fs")),Hi=x(require("os")),st=x(require("path")),Be=class extends Error{};async function sf({appPath:e,packageManager:t,framework:r,language:n,template:o,chain:i}){let a="";o?await Ji(o)||(console.error(`Could not locate the repository for ${d.red(`"${o}"`)}. Please check that the repository exists and try again.`),process.exit(1)):r&&(a=`${r}-${n||"javascript"}-${i==="solana"?"solana-":""}starter`,await Ji(a)||(console.error(`Something went wrong with the ${d.red(`"${r}"`)} framework. Please try again.`),process.exit(1)));let s=o?.includes("react-native")||r==="react-native";function l(){return s&&(n==="typescript"||o&&!o.includes("expo"))}function c(){return process.platform==="darwin"}l()&&c()&&await Jl();let f=st.default.resolve(e);await mo(st.default.dirname(f))||(console.error("The application path is not writable, please check folder permissions and try again."),console.error("It is likely you do not have write permissions for this folder."),process.exit(1));let p=st.default.basename(f);await ho(f),fo(f,p)||process.exit(1);let u=t==="yarn",w=!u||await po(),y=process.cwd();console.log(`Creating a new thirdweb app in ${d.green(f)}.`),console.log(),process.chdir(f);function b(v){return typeof v=="object"&&v!==null&&typeof v.message=="string"}if(o){try{console.log(`Downloading files from repo ${d.cyan(o)}. This might take a moment.`),console.log(),await(0,Vi.default)(()=>an(f,{name:o,filePath:""}),{retries:3})}catch(C){throw new Be(b(C)?C.message:String(C))}let v=st.default.join(f,"package.json"),F=sn.default.readFileSync(v);try{let C=JSON.parse(F.toString());C&&(C.name=p),sn.default.writeFileSync(v,JSON.stringify(C,null,2)+Hi.default.EOL)}catch{console.log("Failed to re-name package.json, continuing..."),console.log()}console.log("Installing packages. This might take a couple of minutes."),console.log(),await on(f,null,{packageManager:t,isOnline:w}),console.log()}else if(r){try{console.log(`Downloading files with framework ${d.cyan(r)}. This might take a moment.`),await(0,Vi.default)(()=>an(f,{name:a,filePath:""}),{retries:3})}catch(v){throw new Be(b(v)?v.message:String(v))}try{let v=st.default.join(f,"package.json"),F=sn.default.readFileSync(v),C=JSON.parse(F.toString());C&&(C.name=p),sn.default.writeFileSync(v,JSON.stringify(C,null,2)+Hi.default.EOL)}catch{console.log("Failed to re-name package.json, continuing..."),console.log()}console.log("Installing packages. This might take a couple of minutes."),console.log(),await on(f,null,{packageManager:t,isOnline:w}),console.log()}l()&&c()&&await rf(f,w),lo(f)&&(console.log("Initialized a git repository."),console.log());let h;st.default.join(y,p)===e?h=p:h=e;let g;r&&(r==="next"||r==="vite")?g="dev":o&&(g=await Hl(o)),console.log(`${d.green("Success!")} Created ${p} at ${e}`),console.log("Inside that directory, you can run several commands:"),console.log(),s?(console.log(d.cyan(`  ${t}${u||g==="start"?"":"run "} android`)),console.log("    Runs your app on an Android emulator or device."),console.log(),console.log(d.cyan(`  ${t}${u||g==="start"?"":"run "} ios`)),console.log("    Runs your app on an iOS emulator or device."),console.log()):g&&(console.log(d.cyan(`  ${t} ${u||g==="start"?"":"run "}${g}`)),console.log("    Starts the development server."),console.log(),console.log(d.cyan(`  ${t} ${u||g==="start"?"":"run "}build`)),console.log("    Builds the app for production."),console.log()),console.log("We suggest that you begin by typing:"),console.log(),console.log(d.cyan("  cd"),h),g&&!s&&console.log(`  ${d.cyan(`${t} ${u||g==="start"?"":"run "}${g}`)}`),console.log()}var pm={ERC721Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721Base.sol";

contract Contract is ERC721Base {

      constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    )
        ERC721Base(
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps
        )
    {}

}`,ERC721SignatureMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721SignatureMint.sol";

contract Contract is ERC721SignatureMint {
    constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC721SignatureMint(
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,ERC721LazyMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721LazyMint.sol";

contract Contract is ERC721LazyMint {
    constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC721LazyMint(_name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC721DelayedReveal:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721DelayedReveal.sol";

contract Contract is ERC721DelayedReveal {
    constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC721DelayedReveal(_name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC721Drop:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721Drop.sol";

contract Contract is ERC721Drop {
    constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC721Drop(
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,ERC1155Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155Base.sol";

contract Contract is ERC1155Base {

      constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    )
        ERC1155Base(
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps
        )
    {}

}`,Staking721Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/Staking721Base.sol";

contract Contract is Staking721Base {
      constructor(
        uint256 _timeUnit,
        uint256 _rewardsPerUnitTime,
        address _nftCollection,
        address _rewardToken,
        address _nativeTokenWrapper
    )
        Staking721Base(
            _timeUnit,
            _rewardsPerUnitTime,
            _nftCollection,
            _rewardToken,
            _nativeTokenWrapper
        )
    {}
}`,ERC1155SignatureMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155SignatureMint.sol";

contract Contract is ERC1155SignatureMint {
    constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC1155SignatureMint(
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,ERC1155LazyMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155LazyMint.sol";

contract Contract is ERC1155LazyMint {
    constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC1155LazyMint(_name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC1155DelayedReveal:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155DelayedReveal.sol";

contract Contract is ERC1155DelayedReveal {
    constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC1155DelayedReveal(_name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC1155Drop:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155Drop.sol";

contract Contract is ERC1155Drop {
    constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC1155Drop(
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,Staking1155Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/Staking1155Base.sol";

contract Contract is Staking1155Base {
      constructor(
        uint256 _defaultTimeUnit,
        uint256 _defaultRewardsPerUnitTime,
        address _stakingToken,
        address _rewardToken,
        address _nativeTokenWrapper
    )
        Staking1155Base(
            _defaultTimeUnit,
            _defaultRewardsPerUnitTime,
            _stakingToken,
            _rewardToken,
            _nativeTokenWrapper
        )
    {}
}`,ERC20Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20Base.sol";

contract Contract is ERC20Base {
      constructor(
        string memory _name,
        string memory _symbol
    )
        ERC20Base(
            _name,
            _symbol
        )
    {}
}`,ERC20Vote:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20Vote.sol";

contract Contract is ERC20Vote {
      constructor(
        string memory _name,
        string memory _symbol
    )
        ERC20Vote(
            _name,
            _symbol
        )
    {}
}`,ERC20SignatureMint:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20SignatureMint.sol";

contract Contract is ERC20SignatureMint {
      constructor(
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20SignatureMint(
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,ERC20SignatureMintVote:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20SignatureMintVote.sol";

contract Contract is ERC20SignatureMintVote {
      constructor(
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20SignatureMintVote(
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,ERC20Drop:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20Drop.sol";

contract Contract is ERC20Drop {
      constructor(
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20Drop(
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,ERC20DropVote:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20DropVote.sol";

contract Contract is ERC20DropVote {
      constructor(
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20DropVote(
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,Staking20Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/Staking20Base.sol";

contract Contract is Staking20Base {
      constructor(
        uint256 _timeUnit,
        uint256 _rewardRatioNumerator,
        uint256 _rewardRatioDenominator,
        address _stakingToken,
        address _rewardToken,
        address _nativeTokenWrapper
    )
        Staking20Base(
            _timeUnit,
            _rewardRatioNumerator,
            _rewardRatioDenominator,
            _stakingToken,
            _rewardToken,
            _nativeTokenWrapper
        )
    {}
}`},Yi=pm;function cf(e){return Yi[e]!==void 0}function zi(e){return Yi[e]}function Xi(e){let t=um(e).toUpperCase(),r=dm(e);return`// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.0;

library ${e}Storage {
  bytes32 public constant ${t}_STORAGE_POSITION = keccak256("${r}.storage");

  // Define your contract's state inside the Data struct.
  struct Data {
    // Example: a uint called "number"
    uint256 number;
  }

  /**
    *  Access your state variables using the following pattern (example):
    *  ${e}Storage.Data storage data = ${e}Storage.getStorage();
  **/
  function getStorage() internal pure returns (Data storage data) {
    bytes32 position = ${t}_STORAGE_POSITION;
    assembly {
      data.slot := position
    }
  }
}
  
contract ${e} {

  function readContractState() external view returns (uint256) {
    ${e}Storage.Data storage data = ${e}Storage.getStorage();
    return data.number;
  }

  function writeContractState(uint256 x) external {
    ${e}Storage.Data storage data = ${e}Storage.getStorage();
    data.number = x;
  }
}`}function lf(e,t){return e.replace(/(.)([A-Z][a-z]+)/,`$1${t}$2`).replace(/([a-z0-9])([A-Z])/,`$1${t}$2`).toLowerCase()}function um(e){return lf(e,"_")}function dm(e){return lf(e,".")}var Ot=require("fs/promises");async function ff(){await(0,Ot.rm)("script",{recursive:!0,force:!0}),await(0,Ot.rm)(".gitmodules",{recursive:!0,force:!0}),await(0,Ot.rm)("lib",{recursive:!0,force:!0}),await(0,Ot.writeFile)(".gitmodules",""),await z("git",["submodule","add","https://github.com/foundry-rs/forge-std.git","lib/forge-std"]),await z("git",["submodule","update","--init","--recursive"])}var pf=x(require("async-retry"));var It=x(require("fs")),cn=require("fs/promises"),V=x(require("path"));function mm(e){return typeof e=="object"&&e!==null&&typeof e.message=="string"}async function uf({contractPath:e,packageManager:t,framework:r,contractName:n,baseContract:o,onlyContract:i,createExtension:a}){o&&(cf(o)||(console.error(`Could not locate the base contract for ${d.red(`"${o}"`)}. Please check that the base contract exists and try again.`),process.exit(1)));let s=V.default.resolve(e);await mo(V.default.dirname(s))||(console.error("The application path is not writable, please check folder permissions and try again."),console.error("It is likely you do not have write permissions for this folder."),process.exit(1)),/(^[a-z0-9A-Z]+$)|(^[a-z0-9A-Z]+\.sol$)/.test(n)||(console.error(`Contract name ${d.red(`"${n}"`)} is not valid (only alphanumeric characters are allowed).`),process.exit(1));let l=n.replace(/\.sol$/,"");n=l+".sol";let c=t==="yarn";if(i){if(It.default.existsSync(V.default.join(s,n))&&(console.error(`A contract with the name ${d.red(`"${n}"`)} already exists in specified directory.`),process.exit(1)),o&&o.length>0){let f=zi(o),p="";p=V.default.join(s,n),await(0,cn.writeFile)(p,f),console.log(`${d.green("Success!")} Created ${n} at ${e}`)}if(!o&&a){let f=Xi(l),p="";p=V.default.join(s,n),await(0,cn.writeFile)(p,f),console.log(`${d.green("Success!")} Created your ${n} extension at ${e}`)}}else{let f=V.default.basename(s);await ho(s),fo(s,f)||process.exit(1);let p=!c||await po(),u=process.cwd();console.log(`Creating a new thirdweb contracts project in ${d.green(s)}.`),console.log(),process.chdir(s);try{console.log("Downloading files. This might take a moment.");let y="";if(r==="hardhat"?y="hardhat-javascript-starter":r==="forge"?y="forge-starter":(console.error("Please provide a valid contracts framework."),process.exit(1)),await(0,pf.default)(()=>an(s,{name:y,filePath:""}),{retries:3}),o&&o.length>0){let b=zi(o).replace("contract Contract",`contract ${n.replace(".sol","")}`),h="";r==="hardhat"&&(It.default.unlinkSync(V.default.join(s,"contracts","Contract.sol")),h=V.default.join(s,"contracts",n)),r==="forge"&&(It.default.unlinkSync(V.default.join(s,"src","Contract.sol")),h=V.default.join(s,"src",n)),await(0,cn.writeFile)(h,b)}if(!o&&a){let b=Xi(l),h="";h=V.default.join(s,n),r==="hardhat"&&(It.default.unlinkSync(V.default.join(s,"contracts","Contract.sol")),h=V.default.join(s,"contracts",n)),r==="forge"&&(It.default.unlinkSync(V.default.join(s,"src","Contract.sol")),h=V.default.join(s,"src",n)),await(0,cn.writeFile)(h,b)}}catch(y){throw new Be(mm(y)?y.message:String(y))}console.log("Installing packages. This might take a couple of minutes."),console.log(),await on(s,null,{packageManager:t,isOnline:p}),console.log(),lo(s)&&(console.log("Initialized a git repository."),console.log()),r==="forge"&&await ff();let w;V.default.join(u,f)===e?w=f:w=e,console.log(`${d.green("Success!")} Created ${f} at ${e}`),console.log(),console.log("Inside that directory, you can run several commands:"),console.log(),console.log(d.cyan(`  ${t}${c?"":" run"} build`)),console.log("    Compiles your contracts and detects thirdweb extensions implemented on them."),console.log(),console.log(d.cyan(`  ${t}${c?"":" run"} deploy`)),console.log("    Deploys your contracts with the thirdweb deploy flow."),console.log(),console.log(d.cyan(`  ${t}${c?"":" run"} publish`)),console.log("    Publishes your contracts with the thirdweb publish flow."),console.log(),console.log("We suggest that you begin by typing:"),console.log(),console.log(d.cyan("  cd"),w),console.log(),r==="forge"&&(await Hn()||console.log(`
${d.yellowBright("warning")} You don't have forge installed on this machine, and will need it to run this project! 

You can install forge by following these instructions:
${d.blueBright("https://book.getfoundry.sh/getting-started/installation")}
`))}}var df=x(require("validate-npm-package-name"));function Ki(e){let t=(0,df.default)(e);return t.validForNewPackages?{valid:!0}:{valid:!1,problems:[...t.errors||[],...t.warnings||[]]}}var At=x(require("fs")),K=x(require("path")),me=x(require("prompts")),ln="",G="",I="",B="",qe="",go="",ct="",Zi=!1;async function mf(e,t="",r){if(typeof t=="string"&&(G=t),typeof r.contractName=="string"&&(ln=r.contractName),e==="app"||r.app?I="app":e==="contract"||r.contract?I="contract":(e==="extension"||r.extension)&&(I="extension"),I==="app"&&(r.typescript&&(qe="typescript"),r.javascript&&(qe="javascript"),r.next&&(B="next"),r.cra&&(B="cra"),r.vite&&(B="vite"),r.node&&(B="node"),r.express&&(B="express"),r.reactNative&&(B="react-native"),r.solana&&(ct="solana"),r.evm&&(ct="evm")),I==="contract"&&(r.forge&&(B="forge"),r.hardhat&&(B="hardhat")),r.framework&&(B=r.framework),!I&&!r.template){let c=await(0,me.default)({type:"select",name:"projectType",message:ie.typeOfProject,choices:[{title:"App",value:"app"},{title:"Contract",value:"contract"},{title:"Dynamic Contract Extension",value:"extension"}]});typeof c.projectType=="string"&&(I=c.projectType.trim())}else(!I||r.template)&&(I="app");I==="extension"&&(Zi=!0,r.forge&&(B="forge"),r.hardhat&&(B="hardhat"));let n=!1;if(I==="contract"||I==="extension"){let c=K.default.resolve(G),f=await rt(c,{});if(f==="foundry"&&At.default.existsSync(K.default.join(c,"src")))n=!0,G=K.default.join(G,"src");else if(f==="hardhat")if(At.default.existsSync(K.default.join(c,"contracts")))n=!0,G=K.default.join(G,"contracts");else{let p=At.default.readdirSync(c).filter(u=>At.default.lstatSync(K.default.join(c,u)).isDirectory());for(let u of p)if(At.default.readdirSync(K.default.join(G,u)).some(y=>y.endsWith(".sol"))){n=!0,G=K.default.join(G,u);break}}}if(!n){if(!G){let c=I==="contract"||I==="extension"?"thirdweb-contracts":"thirdweb-app",f=await(0,me.default)({type:"text",name:"path",message:ie.projectName,initial:r.template||c,format:p=>p.toLowerCase(),validate:p=>{let u=Ki(K.default.basename(K.default.resolve(p.toLowerCase())));return u.valid||"Invalid project name: "+u.problems?.[0]}});typeof f.path=="string"&&(G=K.default.join(G,f.path.trim()))}if(G||(console.log(`
Please specify the project directory:
  ${d.cyan("npx thirdweb create")} ${d.green("<project-directory>")}
For example:
  ${d.cyan("npx thirdweb create")} ${d.green("my-thirdweb-app")}

Run ${d.cyan("npx thirdweb --help")} to see all options.`),process.exit(1)),!r.template){if(I==="app"&&!ct&&((await(0,me.default)({type:"select",name:"chain",message:ie.chain,choices:[{title:"EVM",value:"evm"},{title:"Solana",value:"solana"}]})).chain==="solana"?ct="solana":ct="evm"),I==="app"&&!B){let c=await(0,me.default)({type:"select",name:"framework",message:ie.framework,choices:ct==="solana"?[{title:"Next.js",value:"next"},{title:"Create React App",value:"cra"},{title:"Node.js",value:"node"},{title:"Express",value:"express"}]:[{title:"Next.js",value:"next"},{title:"Create React App",value:"cra"},{title:"Vite",value:"vite"},{title:"React Native",value:"react-native"},{title:"Node.js",value:"node"},{title:"Express",value:"express"}]});typeof c.framework=="string"&&(B=c.framework.trim())}if(I==="app"&&!qe)if(B==="react-native"){let c=await(0,me.default)({type:"select",name:"project",message:ie.reactNative,choices:[{title:"Expo Project",value:"expo"},{title:"React Native CLI",value:"typescript"}]});typeof c.project=="string"&&(qe=c.project.trim())}else{let c=await(0,me.default)({type:"select",name:"language",message:ie.language,choices:[{title:"JavaScript",value:"javascript"},{title:"TypeScript",value:"typescript"}]});typeof c.language=="string"&&(qe=c.language.trim())}if((I==="contract"||I==="extension")&&B!=="forge"&&B!=="hardhat"){let c=await(0,me.default)({type:"select",name:"framework",message:ie.framework,choices:[{title:"Hardhat",value:"hardhat"},{title:"Forge",value:"forge"}]});typeof c.framework=="string"&&(B=c.framework.trim())}B||(console.log("Please specify a framework"),process.exit(1)),qe||(qe="javascript")}}if(I==="contract"||I==="extension"){if(!ln){let c="MyContract",f=await(0,me.default)({type:"text",name:"path",message:I==="extension"?ie.extensionName:ie.contractName,initial:c,validate:p=>/(^[a-z0-9A-Z]+$)|(^[a-z0-9A-Z]+\.sol$)/.test(p)?!0:"Invalid contract name 'contractName' (only alphanumeric characters allowed)"});typeof f.path=="string"&&(ln=f.path.trim()),ln||(console.log(`
Please specify the contract name:
  ${d.cyan("npx thirdweb create --contract --name")} ${d.green("<contract-name>")}
For example:
  ${d.cyan("npx thirdweb create --contract --name")} ${d.green("MyContract")}

Run ${d.cyan("npx thirdweb --help")} to see all options.`),process.exit(1))}if(I==="contract"&&!go&&!Zi){let c="none",f=await(0,me.default)({type:"select",name:"standard",message:ie.contract,choices:[...n?[]:[{title:"Empty Contract",value:"none"}],{title:"ERC721",value:"erc721"},{title:"ERC20",value:"erc20"},{title:"ERC1155",value:"erc1155"}]});if(typeof f.standard=="string"&&(c=f.standard.trim()),c==="none")go="";else{let p=[];c==="erc721"?p=[{title:"None",value:"ERC721Base"},{title:"Signature Mint",value:"ERC721SignatureMint"},{title:"Lazy Mint",value:"ERC721LazyMint"},{title:"Delayed Reveal",value:"ERC721DelayedReveal"},{title:"Drop",value:"ERC721Drop"}]:c==="erc20"?p=[{title:"None",value:"ERC20Base"},{title:"Vote",value:"ERC20Vote"},{title:"Signature Mint",value:"ERC20SignatureMint"},{title:"Vote + Signature Mint",value:"ERC20SignatureMintVote"},{title:"Drop",value:"ERC20Drop"},{title:"Vote + Drop",value:"ERC20DropVote"}]:c==="erc1155"&&(p=[{title:"None",value:"ERC1155Base"},{title:"Signature Mint",value:"ERC1155SignatureMint"},{title:"Lazy Mint",value:"ERC1155LazyMint"},{title:"Delayed Reveal",value:"ERC1155DelayedReveal"},{title:"Drop",value:"ERC1155Drop"}]);let u=await(0,me.default)({type:"select",name:"baseContract",message:ie.extensions,choices:p});typeof u.baseContract=="string"&&(go=u.baseContract.trim())}}}G=K.default.resolve(G);let o=K.default.basename(G),{valid:i,problems:a}=Ki(o);i||(console.error(`Could not create a project called ${d.red(`"${o}"`)} because of npm naming restrictions:`),a?.forEach(c=>console.error(`    ${d.red.bold("*")} ${c}`)),process.exit(1)),r.template===!0&&(console.error("Please provide an template name, otherwise remove the template option. Checkout some templates you can use here: https://github.com/thirdweb-example/"),process.exit(1));let s=r.useNpm?"npm":r.usePnpm?"pnpm":eo(),l=typeof r.template=="string"?r.template.trim():void 0;try{I==="app"?await sf({appPath:G,packageManager:s,framework:B,language:qe,template:l,chain:ct}):await uf({contractPath:G,packageManager:s,framework:B,contractName:ln,baseContract:go,onlyContract:n,createExtension:Zi})}catch(c){if(!(c instanceof Be))throw c}}function Qi(e,t){let r=e.split("/");if(r.length>1)return`https://thirdweb.com/dashboard/${r[0]}/${r[1]}${t?`/${t}`:""}`;{let o={"signature-drop":"SignatureDrop","nft-drop":"DropERC721","edition-drop":"DropERC1155","nft-collection":"TokenERC721",edition:"TokenERC1155","token-drop":"DropERC20",token:"TokenERC20",marketplace:"Marketplace",split:"Split",vote:"VoteERC20",pack:"Pack",multiwrap:"Multiwrap"}[e];return o?`https://thirdweb.com/dashboard/${o}`:void 0}}var hf=require("fs"),lt=class{constructor(){this.projectType="npm"}matches(t){return(0,hf.existsSync)(t+"/package-lock.json")}};var ea=require("fs"),ft=class{constructor(){this.projectType="vite"}matches(t){return(0,ea.existsSync)(t+"/vite.config.js")||(0,ea.existsSync)(t+"/vite.config.ts")}};var gf=require("fs"),pt=class{constructor(){this.projectType="yarn"}matches(t){return(0,gf.existsSync)(t+"/yarn.lock")}};var ut=x(require("fs")),yo=x(require("path"));function yf(e,t){let r=[],n=ut.default.lstatSync(e);if(n.isFile()){let o=yo.default.relative(t,e),i=ut.default.readFileSync(e);r.push({name:o,data:i})}else n.isDirectory()&&ut.default.readdirSync(e).forEach(i=>{let a=yo.default.join(e,i);yf(a,t).forEach(l=>r.push(l))});return r}async function bo(e,t){if(!t)return Promise.reject("No path provided");if(!ut.default.existsSync(t))return Promise.reject("Invalid path provided");let n="",o=ut.default.lstatSync(t);if(o.isDirectory()){let i=yf(t,t);if(i.length===0)return Promise.reject("No files detected in specified directory");let a=ue("Uploading directory to IPFS. This may take a while depending on file sizes."),s=await e.uploadBatch(i);a.succeed("Successfully uploaded directory to IPFS"),n=s[0].substring(0,s[0].lastIndexOf("/"))}else if(o.isFile()){let i=yo.default.parse(t).base,a=ut.default.readFileSync(t),s={name:i,data:a},l=ue("Uploading file to IPFS. This may take a while depending on file sizes.");n=await e.upload(s,{uploadWithoutDirectory:!0}),l.succeed("Successfully uploaded file to IPFS.")}else return Promise.reject("Invalid path provided");return n}var bf=require("@thirdweb-dev/storage");async function wf(e="dist",t="."){let r=new bf.ThirdwebStorage,o=[new ft].filter(s=>s.matches(t)).map(s=>s.projectType),i=new pt().matches("."),a=new lt().matches(".");if(o.length===0)throw new Error("No supported project detected");try{i?await z("yarn",["build"]):a&&await z("npm",["build"])}catch{return console.error("Can't build project"),Promise.reject("Can't build project")}try{return`https://thirdweb.com/app/deploy/${(await bo(r,e)).replace("ipfs://","")}`}catch{return console.error("Can't upload project"),Promise.reject("Can't upload project")}}async function _f(e){if(e.name){let r=Qi(e.name,e.contractVersion);if(!r){_.error(d.red(`Could not find a contract named ${e.name} ${e.contractVersion||""}`));return}return R(`Open this link to deploy your contract: ${d.blueBright(r)}`),r.toString()}if(e.app)try{let r=await wf(e.distPath,e.path);return R(`Here is the link to your app: ${d.blueBright(r.toString())}`),r.toString()}catch(r){return _.error("Failed to deploy app, No compatible project found",r),Promise.reject("failed to deploy app, no compatible project found")}let t=await nn(e,"deploy");return R(`Open this link to deploy your contracts: ${d.blueBright(t.toString())}`),t.toString()}var wo=require("@thirdweb-dev/sdk"),Ef=require("@thirdweb-dev/storage");var Tf=require("@thirdweb-dev/chains"),X=x(require("fs")),kf=x(require("prompts"));var xf=require("@thirdweb-dev/sdk"),vf=x(require("prompts")),ta=require("@thirdweb-dev/chains"),Sf=ta.allChains.map(e=>({title:e.slug}));async function ra(e,t,r){let n=[];await Promise.all(e.map(async o=>{let i=[];if(await Promise.all(t.map(async a=>{let s=(0,xf.getChainProvider)(a,{});try{let l=await s.getCode(o);if(!l||l==="0x")return;i.push(a)}catch{return}})),!!i.length){if(i.length===1){r.push({address:o,chainId:i[0]});return}n.push({address:o,chains:i.map(a=>({slug:ta.allChains[a].slug,chainId:a}))})}}));for(let o of n){let i=await(0,vf.default)({type:"select",name:"chainId",message:`What chain is smart contract '${o.address}' on?`,choices:o.chains.map(a=>({title:a.slug,value:a.chainId}))});r.push({address:o.address,chainId:i.chainId})}}async function Cf(e){let t=e.path?.replace(/\/$/,"")||".",r=[],n=[];if(bi(t,/(0x[a-fA-F0-9]{40})/g,n),X.default.existsSync(`${t}/thirdweb.json`)){let p=JSON.parse(X.default.readFileSync(`${t}/thirdweb.json`,"utf-8")),u=p.contracts.map(y=>y.address.toLowerCase()),w=n.filter(y=>!u.includes(y.toLowerCase()));if(r=[...p.contracts],w.length){let y=p.chainIds;if(await ra(w,y,r),r.length>p.contracts.length){X.default.writeFileSync(`${t}/thirdweb.json`,JSON.stringify({chainIds:y,contracts:r},void 0,2));let b=r.length-p.contracts.length;R(`Updated thirdweb.json with ${b} new contract${b===1?"":"s"}`)}}}else{let u=(await(0,kf.default)({type:"autocompleteMultiselect",name:"chains",message:yc.chains,choices:Sf})).chains.map(w=>Tf.allChains[w].chainId);await ra(n,u,r),X.default.writeFileSync(`${t}/thirdweb.json`,JSON.stringify({chainIds:u,contracts:r},void 0,2)),R(`Created a thirdweb.json file with configuration for ${r.length} contract${r.length===1?"":"s"} detected in your project.

 - You can also update this configuration manually by editing the file.
`)}A("Downloading ABIs for contracts configured in 'thirdweb.json'").info();let o=new Ef.ThirdwebStorage,i=[];await Promise.all(r.map(async p=>{let u=(0,wo.getChainProvider)(p.chainId,{}),w;try{w=await(0,wo.fetchContractMetadataFromAddress)(p.address,u,o)}catch{A(`Unable to download ABI for contract ${p.address}, skipping.`).warn();return}i.push({address:p.address,metadata:w})}));let a=`${t}/node_modules/@thirdweb-dev/generated-abis/dist`;X.default.existsSync(a)||(A("Unable to cache ABIs. Please ensure that you have the latest @thirdweb-dev/sdk package installed.").fail(),process.exit(1)),[`${a}/thirdweb-dev-generated-abis.cjs.js`,`${a}/thirdweb-dev-generated-abis.esm.js`].forEach(p=>{if(!X.default.existsSync(p))return;let u=X.default.readFileSync(p,"utf-8"),w=/GENERATED_ABI = \{.*\};\n\n/s,y=i.reduce((g,v)=>(g[v.address]=v.metadata.abi,g),{}),b=JSON.stringify(y,null,2),h=u.replace(w,`GENERATED_ABI = ${b};

`);X.default.writeFileSync(p,h)});{let p=`${a}/declarations/src/index.d.ts`;if(!X.default.existsSync(p))return;let u=X.default.readFileSync(p,"utf-8"),w=/GENERATED_ABI: \{.*\}/s,y=i.reduce((g,v)=>(g[v.address]=v.metadata.abi,g),{}),b=JSON.stringify(y,null,2),h=u.replace(w,`GENERATED_ABI: ${b}`);X.default.writeFileSync(p,h)}A(`Downloaded and cached ABIs for ${i.length} smart contract${i.length===1?"":"s"}`).succeed();let l=`${t}/package.json`;if(!X.default.existsSync(l))return;let c=JSON.parse(X.default.readFileSync(l,"utf-8"));if(c.scripts?.postinstall?.includes("thirdweb generate"))return;let f=c.scripts?.postinstall?c.scripts.postinstall+" && export THIRDWEB_CLI_SKIP_INTRO=true && npx thirdweb generate --skip-update-check":"export THIRDWEB_CLI_SKIP_INTRO=true && npx thirdweb generate --skip-update-check";X.default.writeFileSync(l,JSON.stringify({...c,scripts:{...c.scripts,postinstall:f}},void 0,2)),A(`Added 'npx thirdweb generate' to postinstall in package.json.

 - This is necessary to use 'thirdweb generate' in production.
`).info()}var na=require("child_process");async function Rf(){if(await hm())return{packageManager:await import("detect-package-manager").then(({detect:i})=>i()),isGlobal:!1};if(await gm())return{packageManager:"npm",isGlobal:!0};if(await ym())return{packageManager:"yarn",isGlobal:!0};if(await bm())return{packageManager:"pnpm",isGlobal:!0}}async function hm(){let e=await oa("npm ls --depth=0");return _o(e||[])}async function gm(){let e=await oa("npm ls -g --depth=0");return _o(e||[])}async function ym(){let e=await oa("yarn --cwd `yarn global dir` list");return _o(e||[])}async function bm(){let e=await new Promise(t=>{(0,na.exec)("pnpm list -g --depth=0",(r,n)=>{var o=[];o=n.split("dependencies:")[1]?.trim().split(`
`)||[],o=o.map(i=>i.replace(" ","@")),t(o)})});return _o(e||[])}function _o(e){return e.some(t=>t.match(/^thirdweb/))}async function oa(e){return new Promise(t=>{(0,na.exec)(e,(r,n)=>{var o=[];o=n.split(`
`),o=o.filter(function(i){if(i.match(/^├─.+/g)!==null||i.match(/^└─.+/g)!==null)return!0}),o=o.map(function(i){if(i.match(/^├─.+/g)!==null)return i.replace(/(^├──\s|^├─\s)/g,"");if(i.match(/^└─.+/g)!==null)return i.replace(/(^└──\s|^├─\s)/g,"")}).filter(i=>!!i),t(o)})})}var Pf=require("fs"),fn=class{constructor(){this.projectType="brownie"}matches(t){return(0,Pf.existsSync)(t+"/brownie-config.yaml")}};var Df=x(require("fs")),pn=class{constructor(){this.projectType="cra"}matches(t){return!!JSON.parse(Df.default.readFileSync(t+"/package.json","utf8")).dependencies?.["react-scripts"]}};var jf=x(require("fs")),un=class{constructor(){this.projectType="next"}matches(t){return!!JSON.parse(jf.default.readFileSync(t+"/package.json","utf8")).dependencies?.next}};var Ff=x(require("fs")),dn=class{constructor(){this.projectType="solc"}matches(t){let r=JSON.parse(Ff.default.readFileSync(t+"/package.json","utf8"));return!!r.dependencies?.solc||!!r.devDependencies?.solc}};var $f=x(require("fs"));var wm=["@thirdweb-dev/chain-icons"];async function Of(e=".",t){let r=[new fn,new Qe,new et,new tt,new dn].filter(h=>h.matches(e)),n=[new ft,new un,new pn].filter(h=>h.matches(e)),o=new pt().matches("."),i=new lt().matches("."),a;try{a=JSON.parse($f.default.readFileSync(e+"/package.json","utf8"))}catch{console.error("No package.json file found. Please run this command in the root of your project.");return}let s=!!a?.dependencies?.ethers||!!a?.devDependencies?.ethers,l=t.dev?"@dev":t.nightly?"@nightly":"@latest";if(n.length===0&&r.length===0)throw new Error("No supported project detected");let c=new Set([...Object.keys(a.dependencies||{}).filter(h=>h.startsWith("@thirdweb-dev/")),...Object.keys(a.devDependencies||{}).filter(h=>h.startsWith("@thirdweb-dev/")),...Object.keys(a.peerDependencies||{}).filter(h=>h.startsWith("@thirdweb-dev/"))]),f=new Set,p=new Set,u=r[0],w=n[0];u?(R(`Detected project: "${u.projectType}"`),c.has("@thirdweb-dev/contracts")||f.add("@thirdweb-dev/contracts")):w&&(R(`Detected project: "${w.projectType}"`),c.has("@thirdweb-dev/react")||f.add("@thirdweb-dev/react"),c.has("@thirdweb-dev/sdk")||f.add("@thirdweb-dev/sdk"),s||p.add("ethers@5")),wm.forEach(h=>{c.delete(h),f.delete(h)});let y,b;try{f.size!==0&&(y=A(`Installing: "${[...f].join('", "')}"`).start()),c.size!==0&&(b=A(`Updating: "${[...c].join('", "')}"`).start());let h=[...[...f].map(v=>`${v}${l}`),...p],g=[...c].map(v=>`${v}${l}`);o?(h.length!==0&&(await z("yarn",["add",...h]),y?.succeed(`Installed: "${h.join('", "')}"`)),g.length!==0&&(await z("yarn",["upgrade",...g]),b?.succeed(`Updated: "${g.join('", "')}"`))):i&&(h.length!==0&&(await z("npm",["install",...h]),y?.succeed(`Installed: "${h.join('", "')}"`)),g.length!==0&&(await z("npm",["update",...g]),b?.succeed(`Updated: "${g.join('", "')}"`)))}catch{return console.error("Can't install within project"),Promise.reject("Can't install within project")}}var If=require("@thirdweb-dev/storage");var mn=require("child_process"),Af=require("commander"),xo=x(require("open")),Mf=x(require("prompts")),Nf=x(require("sync-disk-cache")),_m=async()=>{let e=process.env.THIRDWEB_CLI_SKIP_INTRO==="true",t=new Af.Command,r=new Nf.default("thirdweb:cli");e||(console.info(`
    $$\\     $$\\       $$\\                 $$\\                         $$\\       
    $$ |    $$ |      \\__|                $$ |                        $$ |      
  $$$$$$\\   $$$$$$$\\  $$\\  $$$$$$\\   $$$$$$$ |$$\\  $$\\  $$\\  $$$$$$\\  $$$$$$$\\  
  \\_$$  _|  $$  __$$\\ $$ |$$  __$$\\ $$  __$$ |$$ | $$ | $$ |$$  __$$\\ $$  __$$\\ 
    $$ |    $$ |  $$ |$$ |$$ |  \\__|$$ /  $$ |$$ | $$ | $$ |$$$$$$$$ |$$ |  $$ |
    $$ |$$\\ $$ |  $$ |$$ |$$ |      $$ |  $$ |$$ | $$ | $$ |$$   ____|$$ |  $$ |
    \\$$$$  |$$ |  $$ |$$ |$$ |      \\$$$$$$$ |\\$$$$$\\$$$$  |\\$$$$$$$\\ $$$$$$$  |
     \\____/ \\__|  \\__|\\__|\\__|       \\_______| \\_____\\____/  \\_______|\\_______/ `),console.info(`
 \u{1F48E} thirdweb-cli v${jt} \u{1F48E}
`)),t.name("thirdweb-cli").description("Official thirdweb command line interface").version(jt,"-v, --version").option("--skip-update-check","Skip check for auto updates").hook("preAction",async()=>{if(e||t.opts().skipUpdateCheck)return;let n=!0;try{let i=r.get("last-version-check");if(i.isCached){let a=new Date(i.value);Date.now()-a.getTime()<1e3*60*60*24&&(n=!1)}}catch{}if(!n)return;let o=ue("Checking for updates...");await import("update-notifier").then(async({default:i})=>{let s=await i({pkg:Di,shouldNotifyInNpmScript:!0,updateCheckInterval:0}).fetchInfo();o.stop();try{r.set("last-version-check",new Date().toISOString())}catch{}if(s.type!=="latest"&&(await(0,Mf.default)({type:"toggle",name:"upgrade",message:"A new version of the CLI is available. Would you like to upgrade?",initial:!0,active:"yes",inactive:"no"})).upgrade){let c=ue(`Upgrading CLI to version ${s.latest}...`),f={...process.env};f.THIRDWEB_CLI_SKIP_INTRO="true";let p=await Rf();if(!p)return c.succeed(`Now using CLI version ${s.latest}. Continuing execution...`),await new Promise((y,b)=>{(0,mn.spawn)(`npx --yes thirdweb@latest ${process.argv.slice(2).join(" ")}`,[],{stdio:"inherit",shell:!0,env:f}).on("close",g=>{g===0?y(""):b()})}),process.exit(0);let u="";switch(p.packageManager){case"npm":u=p.isGlobal?"npm install -g thirdweb":"npm install thirdweb";break;case"yarn":u=p.isGlobal?"yarn global add thirdweb":"yarn add thirdweb";break;case"pnpm":u=p.isGlobal?"pnpm add -g thirdweb@latest":"pnpm add thirdweb@latest";break;default:console.error(`Could not detect package manager in use, aborting automatic upgrade.
If you want to upgrade the CLI, please do it manually with your package manager.`),process.exit(1)}await new Promise((y,b)=>{(0,mn.exec)(u,(h,g,v)=>{if(h)return b(h);y({stdout:g,stderr:v})})}),c.succeed(`Successfully upgraded CLI to version ${s.latest}. Continuing execution...`);let w=!p.isGlobal||p.packageManager==="npm"?"npx thirdweb":"thirdweb";await new Promise((y,b)=>{(0,mn.spawn)(`${w} ${process.argv.slice(2).join(" ")}`,[],{stdio:"inherit",shell:!0,env:f}).on("close",g=>g===0?y(""):b())}),process.exit(0)}})}),t.command("install [projectPath]").description("Install thirdweb into your project. If no path is specified, the current directory will be used.").option("--nightly","Install the nightly version of packages.").option("--dev","Install the dev version of packages").action(async(n,o)=>{await Of(n,o)}),t.command("create [projectType] [projectPath]").description("Create a web3 app from any of our official templates: https://github.com/thirdweb-example/").option("--app","Create a web3 app.").option("--contract","Create a web3 contract project").option("--ts, --typescript","Initialize as a TypeScript project.").option("--js, --javascript","Initialize as a JavaScript project.").option("--forge","Initialize as a Forge project.").option("--hardhat","Initialize as a Hardhat project.").option("--extension","Create a smart contract extension.").option("--cra","Initialize as a Create React App project.").option("--next","Initialize as a Next.js project.").option("--vite","Initialize as a Vite project.").option("--reactNative","Initialize as a React Native project.").option("--express","Initialize as a Express project.").option("--node","Initialize as a Node project.").option("--use-npm","Explicitly tell the CLI to bootstrap the app using npm").option("--use-pnpm","Explicitly tell the CLI to bootstrap the app using pnpm").option("--framework [name]","The preferred framework.").option("--solana","Initialize as a Solana project.").option("--evm","Initialize as an Ethereum project.").option("-t, --template [name]","A template to start your project from. You can use an template repository name from the official thirdweb-example org.").option("-c, --contract-name [name]","Name of the new smart contract to create").action(async(n,o,i)=>{await mf(n,o,i)}),t.command("build").description("Compile contract and detect thirdweb contract extensions").option("--clean","clear the cache before building").option("-p, --path <project-path>","path to project",".").option("-d, --debug","show debug logs").option("-a, --all","run detection on all contracts").action(async n=>{await xi(n)}),t.command("deploy").description("Deploy your (or team) contracts securely to blockchains").option("-p, --path <project-path>","path to project",".").option("--clean","clear the cache before building").option("--dry-run","dry run (skip actually publishing)").option("-d, --debug","show debug logs").option("--ci","Continuous Integration mode").option("--dist-path [distPath]","Path to the dist folder where the HTML based App is").option("-n, --name [name]","Name of the pre-built or published contract (such as nft-drop)").option("-f, --file [name]","Filter for contract files that contain this file name").option("-cn, --contract-name [name]","Filter for contracts that contain this contract name").option("-cv, --contract-version [version]","Version of the published contract").option("--app","Deploy a web app to decentralized storage").option("--contract","Deploy a smart contract to blockchains").option("--dynamic","Deploy a dynamic smart contract made up of extensions to blockchains").action(async n=>{let o=await _f(n);o&&await(0,xo.default)(o)}),t.command("release").description("[Deprecated] use 'publish' instead.").option("-p, --path <project-path>","path to project",".").option("-f, --file [name]","Filter for contract files that contain the file name").option("-cn, --contract-name [name]","Filter for contracts that contain this contract name").option("--clean","clear the cache before building").option("--dry-run","dry run (skip actually publishing)").option("-d, --debug","show debug logs").option("--ci","Continuous Integration mode").action(async n=>{_.warn("'release' is deprecated and will be removed in a future update. Please use 'publish' instead.");let o=await nn(n,"publish");R(`Open this link to publish your contracts: ${d.blueBright(o.toString())}`),await(0,xo.default)(o.toString())}),t.command("publish").description("Publish your protocol so other devs can deploy them and unlock SDKs, Dashboards and Analytics").option("-p, --path <project-path>","path to project",".").option("-f, --file [name]","Filter for contract files that contain the file name").option("-cn, --contract-name [name]","Filter for contracts that contain this contract name").option("--clean","clear the cache before building").option("--dry-run","dry run (skip actually publishing)").option("-d, --debug","show debug logs").option("--ci","Continuous Integration mode").action(async n=>{let o=await nn(n,"publish");R(`Open this link to publish your contracts: ${d.blueBright(o.toString())}`),await(0,xo.default)(o.toString())}),t.command("upload").description("Upload any file or directory to decentralized storage (IPFS)").argument("[upload]","path to file or directory to upload").action(async n=>{let o=new If.ThirdwebStorage;try{let i=await bo(o,n);R(`Files stored at the following IPFS URI: ${d.blueBright(i.toString())}`);let a=o.resolveScheme(i);R(`Open this link to view your upload: ${d.blueBright(a.toString())}`)}catch(i){i.toString()==="No files detected in specified directory"||i.toString()==="Invalid path provided"||i.toString()==="No path provided"?_.error(d.redBright("Please specify a valid file or directory to upload")):_.error(d.redBright("Failed to upload files"),i)}}),t.command("detect").description("(deprecated) Compile contracts and detect implemented thirdweb contract extensions").option("-p, --path <project-path>","path to project",".").option("-d, --debug","show debug logs").option("-a, --all","run detection on all contracts").action(async n=>{await xi(n)}),t.command("detect-project").description("Detect the type of project your are running and let you know what it is.").option("-p, --path <project-path>","path to project",".").option("-d, --debug","show debug logs").action(async n=>{await Zc(n)}),t.command("generate").description("Preload ABIs and generate types for your smart contract to strongly type the thirdweb SDK").option("-p, --path <project-path>","path to project",".").action(async n=>{await Cf(n)}),await t.parseAsync()};_m().then(()=>{process.exit(0)}).catch(e=>{_.error(e),process.exit(1)});
/*! Bundled license information:

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=index.js.map